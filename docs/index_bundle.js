(()=>{var e={431:function(e,t,n){var r;!function(i){"use strict";var a,l=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,c=Math.ceil,s=Math.floor,u="[BigNumber Error] ",o=u+"Number primitive has more than 15 significant digits: ",m=1e14,g=14,E=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,h=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function A(e){for(var t,n,r=1,i=e.length,a=e[0]+"";r<i;){for(t=e[r++]+"",n=g-t.length;n--;t="0"+t);a+=t}for(i=a.length;48===a.charCodeAt(--i););return a.slice(0,i+1||1)}function B(e,t){var n,r,i=e.c,a=t.c,l=e.s,c=t.s,s=e.e,u=t.e;if(!l||!c)return null;if(n=i&&!i[0],r=a&&!a[0],n||r)return n?r?0:-c:l;if(l!=c)return l;if(n=l<0,r=s==u,!i||!a)return r?0:!i^n?1:-1;if(!r)return s>u^n?1:-1;for(c=(s=i.length)<(u=a.length)?s:u,l=0;l<c;l++)if(i[l]!=a[l])return i[l]>a[l]^n?1:-1;return s==u?0:s>u^n?1:-1}function x(e,t,n,r){if(e<t||e>n||e!==s(e))throw Error(u+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function N(e){var t=e.c.length-1;return p(e.e/g)==t&&e.c[t]%2!=0}function D(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function T(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}a=function e(t){var n,r,i,a,S,O,v,L,V,b,w=k.prototype={constructor:k,toString:null,valueOf:null},R=new k(1),Z=20,y=4,I=-7,C=21,H=-1e7,F=1e7,P=!1,U=1,M=0,z={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},_="0123456789abcdefghijklmnopqrstuvwxyz";function k(e,t){var n,a,c,u,m,d,f,h,p=this;if(!(p instanceof k))return new k(e,t);if(null==t){if(e&&!0===e._isBigNumber)return p.s=e.s,void(!e.c||e.e>F?p.c=p.e=null:e.e<H?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,m=e;m>=10;m/=10,u++);return void(u>F?p.c=p.e=null:(p.e=u,p.c=[e]))}h=String(e)}else{if(!l.test(h=String(e)))return i(p,h,d);p.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(u=h.indexOf("."))>-1&&(h=h.replace(".","")),(m=h.search(/e/i))>0?(u<0&&(u=m),u+=+h.slice(m+1),h=h.substring(0,m)):u<0&&(u=h.length)}else{if(x(t,2,_.length,"Base"),10==t)return G(p=new k(e),Z+p.e+1,y);if(h=String(e),d="number"==typeof e){if(0*e!=0)return i(p,h,d,t);if(p.s=1/e<0?(h=h.slice(1),-1):1,k.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(o+e)}else p.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(n=_.slice(0,t),u=m=0,f=h.length;m<f;m++)if(n.indexOf(a=h.charAt(m))<0){if("."==a){if(m>u){u=f;continue}}else if(!c&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){c=!0,m=-1,u=0;continue}return i(p,String(e),d,t)}d=!1,(u=(h=r(h,t,10,p.s)).indexOf("."))>-1?h=h.replace(".",""):u=h.length}for(m=0;48===h.charCodeAt(m);m++);for(f=h.length;48===h.charCodeAt(--f););if(h=h.slice(m,++f)){if(f-=m,d&&k.DEBUG&&f>15&&(e>E||e!==s(e)))throw Error(o+p.s*e);if((u=u-m-1)>F)p.c=p.e=null;else if(u<H)p.c=[p.e=0];else{if(p.e=u,p.c=[],m=(u+1)%g,u<0&&(m+=g),m<f){for(m&&p.c.push(+h.slice(0,m)),f-=g;m<f;)p.c.push(+h.slice(m,m+=g));m=g-(h=h.slice(m)).length}else m-=f;for(;m--;h+="0");p.c.push(+h)}}else p.c=[p.e=0]}function W(e,t,n,r){var i,a,l,c,s;if(null==n?n=y:x(n,0,8),!e.c)return e.toString();if(i=e.c[0],l=e.e,null==t)s=A(e.c),s=1==r||2==r&&(l<=I||l>=C)?D(s,l):T(s,l,"0");else if(a=(e=G(new k(e),t,n)).e,c=(s=A(e.c)).length,1==r||2==r&&(t<=a||a<=I)){for(;c<t;s+="0",c++);s=D(s,a)}else if(t-=l,s=T(s,a,"0"),a+1>c){if(--t>0)for(s+=".";t--;s+="0");}else if((t+=a-c)>0)for(a+1==c&&(s+=".");t--;s+="0");return e.s<0&&i?"-"+s:s}function K(e,t){for(var n,r=1,i=new k(e[0]);r<e.length;r++){if(!(n=new k(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function J(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*g-1)>F?e.c=e.e=null:n<H?e.c=[e.e=0]:(e.e=n,e.c=t),e}function G(e,t,n,r){var i,a,l,u,o,E,f,h=e.c,p=d;if(h){e:{for(i=1,u=h[0];u>=10;u/=10,i++);if((a=t-i)<0)a+=g,l=t,f=(o=h[E=0])/p[i-l-1]%10|0;else if((E=c((a+1)/g))>=h.length){if(!r)break e;for(;h.length<=E;h.push(0));o=f=0,i=1,l=(a%=g)-g+1}else{for(o=u=h[E],i=1;u>=10;u/=10,i++);f=(l=(a%=g)-g+i)<0?0:o/p[i-l-1]%10|0}if(r=r||t<0||null!=h[E+1]||(l<0?o:o%p[i-l-1]),r=n<4?(f||r)&&(0==n||n==(e.s<0?3:2)):f>5||5==f&&(4==n||r||6==n&&(a>0?l>0?o/p[i-l]:0:h[E-1])%10&1||n==(e.s<0?8:7)),t<1||!h[0])return h.length=0,r?(t-=e.e+1,h[0]=p[(g-t%g)%g],e.e=-t||0):h[0]=e.e=0,e;if(0==a?(h.length=E,u=1,E--):(h.length=E+1,u=p[g-a],h[E]=l>0?s(o/p[i-l]%p[l])*u:0),r)for(;;){if(0==E){for(a=1,l=h[0];l>=10;l/=10,a++);for(l=h[0]+=u,u=1;l>=10;l/=10,u++);a!=u&&(e.e++,h[0]==m&&(h[0]=1));break}if(h[E]+=u,h[E]!=m)break;h[E--]=0,u=1}for(a=h.length;0===h[--a];h.pop());}e.e>F?e.c=e.e=null:e.e<H&&(e.c=[e.e=0])}return e}function $(e){var t,n=e.e;return null===n?e.toString():(t=A(e.c),t=n<=I||n>=C?D(t,n):T(t,n,"0"),e.s<0?"-"+t:t)}return k.clone=e,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(u+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(x(n=e[t],0,h,t),Z=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(x(n=e[t],0,8,t),y=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(x(n[0],-h,0,t),x(n[1],0,h,t),I=n[0],C=n[1]):(x(n,-h,h,t),I=-(C=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)x(n[0],-h,-1,t),x(n[1],1,h,t),H=n[0],F=n[1];else{if(x(n,-h,h,t),!n)throw Error(u+t+" cannot be zero: "+n);H=-(F=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(u+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw P=!n,Error(u+"crypto unavailable");P=n}else P=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(x(n=e[t],0,9,t),U=n),e.hasOwnProperty(t="POW_PRECISION")&&(x(n=e[t],0,h,t),M=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(u+t+" not an object: "+n);z=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(u+t+" invalid: "+n);_=n}}return{DECIMAL_PLACES:Z,ROUNDING_MODE:y,EXPONENTIAL_AT:[I,C],RANGE:[H,F],CRYPTO:P,MODULO_MODE:U,POW_PRECISION:M,FORMAT:z,ALPHABET:_}},k.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!k.DEBUG)return!0;var t,n,r=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&i>=-h&&i<=h&&i===s(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%g)<1&&(t+=g),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=m||n!==s(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(u+"Invalid BigNumber: "+e)},k.maximum=k.max=function(){return K(arguments,w.lt)},k.minimum=k.min=function(){return K(arguments,w.gt)},k.random=(a=9007199254740992,S=Math.random()*a&2097151?function(){return s(Math.random()*a)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,a,l=0,o=[],m=new k(R);if(null==e?e=Z:x(e,0,h),i=c(e/g),P)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));l<i;)(a=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(o.push(a%1e14),l+=2);l=i/2}else{if(!crypto.randomBytes)throw P=!1,Error(u+"crypto unavailable");for(t=crypto.randomBytes(i*=7);l<i;)(a=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(o.push(a%1e14),l+=7);l=i/7}if(!P)for(;l<i;)(a=S())<9e15&&(o[l++]=a%1e14);for(i=o[--l],e%=g,i&&e&&(a=d[g-e],o[l]=s(i/a)*a);0===o[l];o.pop(),l--);if(l<0)o=[r=0];else{for(r=-1;0===o[0];o.splice(0,1),r-=g);for(l=1,a=o[0];a>=10;a/=10,l++);l<g&&(r-=g-l)}return m.e=r,m.c=o,m}),k.sum=function(){for(var e=1,t=arguments,n=new k(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var i,a,l=[0],c=0,s=e.length;c<s;){for(a=l.length;a--;l[a]*=t);for(l[0]+=r.indexOf(e.charAt(c++)),i=0;i<l.length;i++)l[i]>n-1&&(null==l[i+1]&&(l[i+1]=0),l[i+1]+=l[i]/n|0,l[i]%=n)}return l.reverse()}return function(r,i,a,l,c){var s,u,o,m,g,E,d,f,h=r.indexOf("."),p=Z,B=y;for(h>=0&&(m=M,M=0,r=r.replace(".",""),E=(f=new k(i)).pow(r.length-h),M=m,f.c=t(T(A(E.c),E.e,"0"),10,a,e),f.e=f.c.length),o=m=(d=t(r,i,a,c?(s=_,e):(s=e,_))).length;0==d[--m];d.pop());if(!d[0])return s.charAt(0);if(h<0?--o:(E.c=d,E.e=o,E.s=l,d=(E=n(E,f,p,B,a)).c,g=E.r,o=E.e),h=d[u=o+p+1],m=a/2,g=g||u<0||null!=d[u+1],g=B<4?(null!=h||g)&&(0==B||B==(E.s<0?3:2)):h>m||h==m&&(4==B||g||6==B&&1&d[u-1]||B==(E.s<0?8:7)),u<1||!d[0])r=g?T(s.charAt(1),-p,s.charAt(0)):s.charAt(0);else{if(d.length=u,g)for(--a;++d[--u]>a;)d[u]=0,u||(++o,d=[1].concat(d));for(m=d.length;!d[--m];);for(h=0,r="";h<=m;r+=s.charAt(d[h++]));r=T(r,o,s.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,a,l,c=0,s=e.length,u=t%f,o=t/f|0;for(e=e.slice();s--;)c=((i=u*(a=e[s]%f)+(r=o*a+(l=e[s]/f|0)*u)%f*f+c)/n|0)+(r/f|0)+o*l,e[s]=i%n;return c&&(e=[c].concat(e)),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,a,l,c){var u,o,E,d,f,h,A,B,x,N,D,T,S,O,v,L,V,b=r.s==i.s?1:-1,w=r.c,R=i.c;if(!(w&&w[0]&&R&&R[0]))return new k(r.s&&i.s&&(w?!R||w[0]!=R[0]:R)?w&&0==w[0]||!R?0*b:b/0:NaN);for(x=(B=new k(b)).c=[],b=a+(o=r.e-i.e)+1,c||(c=m,o=p(r.e/g)-p(i.e/g),b=b/g|0),E=0;R[E]==(w[E]||0);E++);if(R[E]>(w[E]||0)&&o--,b<0)x.push(1),d=!0;else{for(O=w.length,L=R.length,E=0,b+=2,(f=s(c/(R[0]+1)))>1&&(R=e(R,f,c),w=e(w,f,c),L=R.length,O=w.length),S=L,D=(N=w.slice(0,L)).length;D<L;N[D++]=0);V=R.slice(),V=[0].concat(V),v=R[0],R[1]>=c/2&&v++;do{if(f=0,(u=t(R,N,L,D))<0){if(T=N[0],L!=D&&(T=T*c+(N[1]||0)),(f=s(T/v))>1)for(f>=c&&(f=c-1),A=(h=e(R,f,c)).length,D=N.length;1==t(h,N,A,D);)f--,n(h,L<A?V:R,A,c),A=h.length,u=1;else 0==f&&(u=f=1),A=(h=R.slice()).length;if(A<D&&(h=[0].concat(h)),n(N,h,D,c),D=N.length,-1==u)for(;t(R,N,L,D)<1;)f++,n(N,L<D?V:R,D,c),D=N.length}else 0===u&&(f++,N=[0]);x[E++]=f,N[0]?N[D++]=w[S]||0:(N=[w[S]],D=1)}while((S++<O||null!=N[0])&&b--);d=null!=N[0],x[0]||x.splice(0,1)}if(c==m){for(E=1,b=x[0];b>=10;b/=10,E++);G(B,a+(B.e=E+o*g-1)+1,l,d)}else B.e=o,B.r=+d;return B}}(),O=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,L=/^\.([^.]+)$/,V=/^-?(Infinity|NaN)$/,b=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,n,r){var i,a=n?t:t.replace(b,"");if(V.test(a))e.s=isNaN(a)?null:a<0?-1:1;else{if(!n&&(a=a.replace(O,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,a=a.replace(v,"$1").replace(L,"0.$1")),t!=a))return new k(a,i);if(k.DEBUG)throw Error(u+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},w.absoluteValue=w.abs=function(){var e=new k(this);return e.s<0&&(e.s=1),e},w.comparedTo=function(e,t){return B(this,new k(e,t))},w.decimalPlaces=w.dp=function(e,t){var n,r,i,a=this;if(null!=e)return x(e,0,h),null==t?t=y:x(t,0,8),G(new k(a),e+a.e+1,t);if(!(n=a.c))return null;if(r=((i=n.length-1)-p(this.e/g))*g,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},w.dividedBy=w.div=function(e,t){return n(this,new k(e,t),Z,y)},w.dividedToIntegerBy=w.idiv=function(e,t){return n(this,new k(e,t),0,1)},w.exponentiatedBy=w.pow=function(e,t){var n,r,i,a,l,o,m,E,d=this;if((e=new k(e)).c&&!e.isInteger())throw Error(u+"Exponent not an integer: "+$(e));if(null!=t&&(t=new k(t)),l=e.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!e.c||!e.c[0])return E=new k(Math.pow(+$(d),l?2-N(e):+$(e))),t?E.mod(t):E;if(o=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new k(NaN);(r=!o&&d.isInteger()&&t.isInteger())&&(d=d.mod(t))}else{if(e.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||l&&d.c[1]>=24e7:d.c[0]<8e13||l&&d.c[0]<=9999975e7)))return a=d.s<0&&N(e)?-0:0,d.e>-1&&(a=1/a),new k(o?1/a:a);M&&(a=c(M/g+2))}for(l?(n=new k(.5),o&&(e.s=1),m=N(e)):m=(i=Math.abs(+$(e)))%2,E=new k(R);;){if(m){if(!(E=E.times(d)).c)break;a?E.c.length>a&&(E.c.length=a):r&&(E=E.mod(t))}if(i){if(0===(i=s(i/2)))break;m=i%2}else if(G(e=e.times(n),e.e+1,1),e.e>14)m=N(e);else{if(0==(i=+$(e)))break;m=i%2}d=d.times(d),a?d.c&&d.c.length>a&&(d.c.length=a):r&&(d=d.mod(t))}return r?E:(o&&(E=R.div(E)),t?E.mod(t):a?G(E,M,y,void 0):E)},w.integerValue=function(e){var t=new k(this);return null==e?e=y:x(e,0,8),G(t,t.e+1,e)},w.isEqualTo=w.eq=function(e,t){return 0===B(this,new k(e,t))},w.isFinite=function(){return!!this.c},w.isGreaterThan=w.gt=function(e,t){return B(this,new k(e,t))>0},w.isGreaterThanOrEqualTo=w.gte=function(e,t){return 1===(t=B(this,new k(e,t)))||0===t},w.isInteger=function(){return!!this.c&&p(this.e/g)>this.c.length-2},w.isLessThan=w.lt=function(e,t){return B(this,new k(e,t))<0},w.isLessThanOrEqualTo=w.lte=function(e,t){return-1===(t=B(this,new k(e,t)))||0===t},w.isNaN=function(){return!this.s},w.isNegative=function(){return this.s<0},w.isPositive=function(){return this.s>0},w.isZero=function(){return!!this.c&&0==this.c[0]},w.minus=function(e,t){var n,r,i,a,l=this,c=l.s;if(t=(e=new k(e,t)).s,!c||!t)return new k(NaN);if(c!=t)return e.s=-t,l.plus(e);var s=l.e/g,u=e.e/g,o=l.c,E=e.c;if(!s||!u){if(!o||!E)return o?(e.s=-t,e):new k(E?l:NaN);if(!o[0]||!E[0])return E[0]?(e.s=-t,e):new k(o[0]?l:3==y?-0:0)}if(s=p(s),u=p(u),o=o.slice(),c=s-u){for((a=c<0)?(c=-c,i=o):(u=s,i=E),i.reverse(),t=c;t--;i.push(0));i.reverse()}else for(r=(a=(c=o.length)<(t=E.length))?c:t,c=t=0;t<r;t++)if(o[t]!=E[t]){a=o[t]<E[t];break}if(a&&(i=o,o=E,E=i,e.s=-e.s),(t=(r=E.length)-(n=o.length))>0)for(;t--;o[n++]=0);for(t=m-1;r>c;){if(o[--r]<E[r]){for(n=r;n&&!o[--n];o[n]=t);--o[n],o[r]+=m}o[r]-=E[r]}for(;0==o[0];o.splice(0,1),--u);return o[0]?J(e,o,u):(e.s=3==y?-1:1,e.c=[e.e=0],e)},w.modulo=w.mod=function(e,t){var r,i,a=this;return e=new k(e,t),!a.c||!e.s||e.c&&!e.c[0]?new k(NaN):!e.c||a.c&&!a.c[0]?new k(a):(9==U?(i=e.s,e.s=1,r=n(a,e,0,3),e.s=i,r.s*=i):r=n(a,e,0,U),(e=a.minus(r.times(e))).c[0]||1!=U||(e.s=a.s),e)},w.multipliedBy=w.times=function(e,t){var n,r,i,a,l,c,s,u,o,E,d,h,A,B,x,N=this,D=N.c,T=(e=new k(e,t)).c;if(!(D&&T&&D[0]&&T[0]))return!N.s||!e.s||D&&!D[0]&&!T||T&&!T[0]&&!D?e.c=e.e=e.s=null:(e.s*=N.s,D&&T?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=p(N.e/g)+p(e.e/g),e.s*=N.s,(s=D.length)<(E=T.length)&&(A=D,D=T,T=A,i=s,s=E,E=i),i=s+E,A=[];i--;A.push(0));for(B=m,x=f,i=E;--i>=0;){for(n=0,d=T[i]%x,h=T[i]/x|0,a=i+(l=s);a>i;)n=((u=d*(u=D[--l]%x)+(c=h*u+(o=D[l]/x|0)*d)%x*x+A[a]+n)/B|0)+(c/x|0)+h*o,A[a--]=u%B;A[a]=n}return n?++r:A.splice(0,1),J(e,A,r)},w.negated=function(){var e=new k(this);return e.s=-e.s||null,e},w.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new k(e,t)).s,!i||!t)return new k(NaN);if(i!=t)return e.s=-t,r.minus(e);var a=r.e/g,l=e.e/g,c=r.c,s=e.c;if(!a||!l){if(!c||!s)return new k(i/0);if(!c[0]||!s[0])return s[0]?e:new k(c[0]?r:0*i)}if(a=p(a),l=p(l),c=c.slice(),i=a-l){for(i>0?(l=a,n=s):(i=-i,n=c),n.reverse();i--;n.push(0));n.reverse()}for((i=c.length)-(t=s.length)<0&&(n=s,s=c,c=n,t=i),i=0;t;)i=(c[--t]=c[t]+s[t]+i)/m|0,c[t]=m===c[t]?0:c[t]%m;return i&&(c=[i].concat(c),++l),J(e,c,l)},w.precision=w.sd=function(e,t){var n,r,i,a=this;if(null!=e&&e!==!!e)return x(e,1,h),null==t?t=y:x(t,0,8),G(new k(a),e,t);if(!(n=a.c))return null;if(r=(i=n.length-1)*g+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&a.e+1>r&&(r=a.e+1),r},w.shiftedBy=function(e){return x(e,-9007199254740991,E),this.times("1e"+e)},w.squareRoot=w.sqrt=function(){var e,t,r,i,a,l=this,c=l.c,s=l.s,u=l.e,o=Z+4,m=new k("0.5");if(1!==s||!c||!c[0])return new k(!s||s<0&&(!c||c[0])?NaN:c?l:1/0);if(0==(s=Math.sqrt(+$(l)))||s==1/0?(((t=A(c)).length+u)%2==0&&(t+="0"),s=Math.sqrt(+t),u=p((u+1)/2)-(u<0||u%2),r=new k(t=s==1/0?"5e"+u:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new k(s+""),r.c[0])for((s=(u=r.e)+o)<3&&(s=0);;)if(a=r,r=m.times(a.plus(n(l,a,o,1))),A(a.c).slice(0,s)===(t=A(r.c)).slice(0,s)){if(r.e<u&&--s,"9999"!=(t=t.slice(s-3,s+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(G(r,r.e+Z+2,1),e=!r.times(r).eq(l));break}if(!i&&(G(a,a.e+Z+2,0),a.times(a).eq(l))){r=a;break}o+=4,s+=4,i=1}return G(r,r.e+Z+1,y,e)},w.toExponential=function(e,t){return null!=e&&(x(e,0,h),e++),W(this,e,t,1)},w.toFixed=function(e,t){return null!=e&&(x(e,0,h),e=e+this.e+1),W(this,e,t)},w.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=z;else if("object"!=typeof n)throw Error(u+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var a,l=r.split("."),c=+n.groupSize,s=+n.secondaryGroupSize,o=n.groupSeparator||"",m=l[0],g=l[1],E=i.s<0,d=E?m.slice(1):m,f=d.length;if(s&&(a=c,c=s,s=a,f-=a),c>0&&f>0){for(a=f%c||c,m=d.substr(0,a);a<f;a+=c)m+=o+d.substr(a,c);s>0&&(m+=o+d.slice(a)),E&&(m="-"+m)}r=g?m+(n.decimalSeparator||"")+((s=+n.fractionGroupSize)?g.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):g):m}return(n.prefix||"")+r+(n.suffix||"")},w.toFraction=function(e){var t,r,i,a,l,c,s,o,m,E,f,h,p=this,B=p.c;if(null!=e&&(!(s=new k(e)).isInteger()&&(s.c||1!==s.s)||s.lt(R)))throw Error(u+"Argument "+(s.isInteger()?"out of range: ":"not an integer: ")+$(s));if(!B)return new k(p);for(t=new k(R),m=r=new k(R),i=o=new k(R),h=A(B),l=t.e=h.length-p.e-1,t.c[0]=d[(c=l%g)<0?g+c:c],e=!e||s.comparedTo(t)>0?l>0?t:m:s,c=F,F=1/0,s=new k(h),o.c[0]=0;E=n(s,t,0,1),1!=(a=r.plus(E.times(i))).comparedTo(e);)r=i,i=a,m=o.plus(E.times(a=m)),o=a,t=s.minus(E.times(a=t)),s=a;return a=n(e.minus(r),i,0,1),o=o.plus(a.times(m)),r=r.plus(a.times(i)),o.s=m.s=p.s,f=n(m,i,l*=2,y).minus(p).abs().comparedTo(n(o,r,l,y).minus(p).abs())<1?[m,i]:[o,r],F=c,f},w.toNumber=function(){return+$(this)},w.toPrecision=function(e,t){return null!=e&&x(e,1,h),W(this,e,t,2)},w.toString=function(e){var t,n=this,i=n.s,a=n.e;return null===a?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=a<=I||a>=C?D(A(n.c),a):T(A(n.c),a,"0"):10===e?t=T(A((n=G(new k(n),Z+a+1,y)).c),n.e,"0"):(x(e,2,_.length,"Base"),t=r(T(A(n.c),a,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},w.valueOf=w.toJSON=function(){return $(this)},w._isBigNumber=!0,null!=t&&k.set(t),k}(),a.default=a.BigNumber=a,void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},703:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(537),i=n.n(r),a=n(645),l=n.n(a)()(i());l.push([e.id,"body{background:#eeeedd;color:#111111;font-family:Sans-Serif;padding-bottom:47px}input[type=submit],button{background:#77ccee;border:none;padding:10px;margin:10px;font-weight:bold;cursor:pointer}button{background:#eecc77}.buttons{position:fixed;bottom:0px;right:0px}output{font-weight:bold}.table{display:table;border-spacing:0.5em}.table>div{display:table-row}.table>div>*{display:table-cell}.table>div>label{text-align:right;font-weight:bold}.table.trace-table{border-spacing:0}.table.trace-table .trace-row.inactive-leaf pre:first-child{color:#777777;text-decoration:line-through}.table.trace-table .trace-row span{color:#555555}.table.trace-table .trace-row pre{position:absolute;display:none;background:#ddeeee;border:1px solid #333333;margin:0 0 0 100px;padding:5px;-webkit-box-shadow:1px 3px 10px rgba(0,0,0,0.5);-moz-box-shadow:1px 3px 10px rgba(0,0,0,0.5);box-shadow:1px 3px 10px rgba(0,0,0,0.5)}.table.trace-table .trace-row pre:first-child{position:static;display:block;background:transparent;border:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;margin:0;padding:0}.table.trace-table .trace-row:hover{background:#ffffff}.table.trace-table .trace-row:hover pre{display:block}.error-hint{position:fixed;bottom:47px;right:0px;padding:10px;margin:10px;background:#fff0ea;border:4px solid #dd1100;display:none;max-width:50%;max-height:50%;overflow:auto;-webkit-box-shadow:1px 3px 10px rgba(0,0,0,0.5);-moz-box-shadow:1px 3px 10px rgba(0,0,0,0.5);box-shadow:1px 3px 10px rgba(0,0,0,0.5)}.error-hint.active{display:block}.github-link{position:absolute;top:10px;right:10px}\n","",{version:3,sources:["webpack://./src/ui/style.scss"],names:[],mappings:"AAMA,KACC,kBAAmB,CACnB,aAAc,CACd,sBAAuB,CACvB,mBAAoB,CACpB,0BAGA,kBAAmB,CACnB,WAAY,CACZ,YAAa,CACb,WAAY,CACZ,gBAAiB,CACjB,cAAe,CACf,OAGA,kBAAmB,CACnB,SAGA,cAAe,CACf,UAAW,CACX,SAAU,CACV,OAGA,gBAAiB,CACjB,OAGA,aAAc,CACd,oBAAqB,CAFtB,WAKE,iBAAkB,CALpB,aAQG,kBAAmB,CARtB,iBAWG,gBAAiB,CACjB,gBAAiB,CAZpB,mBAiBE,gBAAiB,CAjBnB,4DAqBI,aAAc,CACd,4BAA6B,CAtBjC,mCAyBI,aAAc,CAzBlB,kCA4BI,iBAAkB,CAClB,YAAa,CACb,kBAAmB,CACnB,wBAAyB,CACzB,kBAAmB,CACnB,WAAY,CApEf,+CAqEkD,CApE/C,4CAoE+C,CAnE1C,uCAmE0C,CAlCnD,8CAqCI,eAAgB,CAChB,aAAc,CACd,sBAAuB,CACvB,WAAY,CA3Ef,uBA4E2B,CA3ExB,oBA2EwB,CA1EnB,eA0EmB,CACxB,QAAS,CACT,SAAU,CA3Cd,oCA8CI,kBAAmB,CA9CvB,wCAiDK,aAAc,CACd,YAOJ,cAAe,CACf,WAAY,CACZ,SAAU,CACV,YAAa,CACb,WAAY,CACZ,kBAAmB,CACnB,wBAAyB,CACzB,YAAa,CACb,aAAc,CACd,cAAe,CACf,aAAc,CAtGd,+CAuG+C,CAtG5C,4CAsG4C,CArGvC,uCAqGuC,CAZhD,mBAeE,aAAc,CACd,aAID,iBAAkB,CAClB,QAAS,CACT,UAAW",sourcesContent:["@mixin box-shadow($shadow...) {\n\t-webkit-box-shadow: $shadow;\n\t   -moz-box-shadow: $shadow;\n\t        box-shadow: $shadow;\n}\n\nbody {\n\tbackground: #eeeedd;\n\tcolor: #111111;\n\tfont-family: Sans-Serif;\n\tpadding-bottom: 47px;\n}\n\ninput[type=submit], button {\n\tbackground: #77ccee;\n\tborder: none;\n\tpadding: 10px;\n\tmargin: 10px;\n\tfont-weight: bold;\n\tcursor: pointer;\n}\n\nbutton {\n\tbackground: #eecc77;\n}\n\n.buttons {\n\tposition: fixed;\n\tbottom: 0px;\n\tright: 0px;\n}\n\noutput {\n\tfont-weight: bold;\n}\n\n.table {\n\tdisplay: table;\n\tborder-spacing: 0.5em;\n\n\t& > div {\n\t\tdisplay: table-row;\n\n\t\t& > * {\n\t\t\tdisplay: table-cell;\n\t\t}\n\t\t& > label {\n\t\t\ttext-align: right;\n\t\t\tfont-weight: bold;\n\t\t}\n\t}\n\n\t&.trace-table {\n\t\tborder-spacing: 0;\n\n\t\t.trace-row {\n\t\t\t&.inactive-leaf pre:first-child {\n\t\t\t\tcolor: #777777;\n\t\t\t\ttext-decoration: line-through;\n\t\t\t}\n\t\t\tspan {\n\t\t\t\tcolor: #555555;\n\t\t\t}\n\t\t\tpre {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t\tbackground: #ddeeee;\n\t\t\t\tborder: 1px solid #333333;\n\t\t\t\tmargin: 0 0 0 100px;\n\t\t\t\tpadding: 5px;\n\t\t\t\t@include box-shadow(1px 3px 10px rgba(0,0,0,.5));\n\t\t\t}\n\t\t\tpre:first-child {\n\t\t\t\tposition: static;\n\t\t\t\tdisplay: block;\n\t\t\t\tbackground: transparent;\n\t\t\t\tborder: none;\n\t\t\t\t@include box-shadow(none);\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t}\n\t\t\t&:hover {\n\t\t\t\tbackground: #ffffff;\n\n\t\t\t\tpre {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n.error-hint {\n\tposition: fixed;\n\tbottom: 47px;\n\tright: 0px;\n\tpadding: 10px;\n\tmargin: 10px;\n\tbackground: #fff0ea;\n\tborder: 4px solid #dd1100;\n\tdisplay: none;\n\tmax-width: 50%;\n\tmax-height: 50%;\n\toverflow: auto;\n\t@include box-shadow(1px 3px 10px rgba(0,0,0,.5));\n\n\t&.active {\n\t\tdisplay: block;\n\t}\n}\n\n.github-link {\n\tposition: absolute;\n\ttop: 10px;\n\tright: 10px;\n}\n"],sourceRoot:""}]);const c=l},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(l[s]=!0)}for(var u=0;u<e.length;u++){var o=[].concat(e[u]);r&&l[o[0]]||(void 0!==a&&(void 0===o[5]||(o[1]="@layer".concat(o[5].length>0?" ".concat(o[5]):""," {").concat(o[1],"}")),o[5]=a),n&&(o[2]?(o[1]="@media ".concat(o[2]," {").concat(o[1],"}"),o[2]=n):o[2]=n),i&&(o[4]?(o[1]="@supports (".concat(o[4],") {").concat(o[1],"}"),o[4]=i):o[4]="".concat(i)),t.push(o))}},t}},537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(i," */"),l=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(l).concat([a]).join("\n")}return[t].join("\n")}},260:e=>{"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}},961:(e,t,n)=>{"use strict";var r=n(260),i=n(195);e.exports=function(e){return r(e)||i(e)}},195:e=>{"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}},480:e=>{"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}},860:(e,t,n)=>{"use strict";var r=n(348),i=n(452),a=n(480),l=n(195),c=n(961),s=n(235);e.exports=d,d.escape=function(e){return d(e,{escapeOnly:!0,useNamedReferences:!0})};var u={}.hasOwnProperty,o=function(){var e,t={};for(e in r)t[r[e]]=e;return t}(),m=p(['"',"'","<",">","&","`"]),g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,E=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g;function d(e,t){var n=t||{},r=n.subset,a=r?p(r):m,l=n.escapeOnly,d=n.omitOptionalSemicolons;return e=e.replace(a,A),r||l?e:e.replace(g,(function(e,t,n){return f(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536,n.charCodeAt(t+2),d)})).replace(E,A);function A(e,t,r){return function(e,t,n){var r,a,l,m,g=n.useShortestReferences,E=n.omitOptionalSemicolons;return(g||n.useNamedReferences)&&u.call(o,e)&&(r=function(e,t,n,r){var a="&"+e;return n&&u.call(i,e)&&-1===s.indexOf(e)&&(!r||t&&61!==t&&!c(t))?a:a+";"}(o[e],t,E,n.attribute)),!g&&r||(l=f(a=e.charCodeAt(0),t,E),g&&(m=h(a,t,E)).length<l.length&&(l=m)),r&&(!g||r.length<l.length)?r:l}(e,r.charCodeAt(t+1),n)}}function f(e,t,n){var r="&#x"+e.toString(16).toUpperCase();return n&&t&&!a(t)?r:r+";"}function h(e,t,n){var r="&#"+String(e);return n&&t&&!l(t)?r:r+";"}function p(e){return new RegExp("["+e.join("")+"]","g")}},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},l=[],c=0;c<e.length;c++){var s=e[c],u=r.base?s[0]+r.base:s[0],o=a[u]||0,m="".concat(u," ").concat(o);a[u]=o+1;var g=n(m),E={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==g)t[g].references++,t[g].updater(E);else{var d=i(E,r);r.byIndex=c,t.splice(c,0,{identifier:m,updater:d,references:1})}l.push(m)}return l}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var l=0;l<a.length;l++){var c=n(a[l]);t[c].references--}for(var s=r(e,i),u=0;u<a.length;u++){var o=n(a[u]);0===t[o].references&&(t[o].updater(),t.splice(o,1))}a=s}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},647:(e,t,n)=>{function r(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function a(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function l(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function c(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function s(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new m,a=n.domBuilder||new i,c=n.errorHandler,s=n.locator,o=n.xmlns||{},g=/\/x?html?$/.test(t),E=g?u.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return s&&a.setDocumentLocator(s),r.errorHandler=function(e,t,n){if(!e){if(t instanceof i)return t;e=t}var r={},a=e instanceof Function;function c(t){var i=e[t];!i&&a&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+l(n))}||function(){}}return n=n||{},c("warning"),c("error"),c("fatalError"),r}(c,a,s),r.domBuilder=n.domBuilder||a,g&&(o[""]="http://www.w3.org/1999/xhtml"),o.xml=o.xml||"http://www.w3.org/XML/1998/namespace",e&&"string"==typeof e?r.parse(e,o,E):r.errorHandler.error("invalid doc source"),a.doc},i.prototype={startDocument:function(){this.doc=(new E).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,l=i.createElementNS(e,n||t),c=r.length;s(this,l),this.currentElement=l,this.locator&&a(this.locator,l);for(var u=0;u<c;u++){e=r.getURI(u);var o=r.getValue(u),m=(n=r.getQName(u),i.createAttributeNS(e,n));this.locator&&a(r.getLocator(u),m),m.value=m.nodeValue=o,l.setAttributeNode(m)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&a(this.locator,n),s(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=c.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&a(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=c.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&a(this.locator,r),s(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&a(this.locator,i),s(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,l(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,l(this.locator))},fatalError:function(e){throw new g(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){i.prototype[e]=function(){return null}}));var u=n(791),o=n(275),m=o.XMLReader,g=o.ParseError,E=n(34).DOMImplementation;n(34),t.a=r},34:(e,t)=>{function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(!(r instanceof t)){function i(){}i.prototype=t.prototype,n(r,i=new i),e.prototype=r=i}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var i={},a=i.ELEMENT_NODE=1,l=i.ATTRIBUTE_NODE=2,c=i.TEXT_NODE=3,s=i.CDATA_SECTION_NODE=4,u=i.ENTITY_REFERENCE_NODE=5,o=i.ENTITY_NODE=6,m=i.PROCESSING_INSTRUCTION_NODE=7,g=i.COMMENT_NODE=8,E=i.DOCUMENT_NODE=9,d=i.DOCUMENT_TYPE_NODE=10,f=i.DOCUMENT_FRAGMENT_NODE=11,h=i.NOTATION_NODE=12,p={},A={},B=(p.INDEX_SIZE_ERR=(A[1]="Index size error",1),p.DOMSTRING_SIZE_ERR=(A[2]="DOMString size error",2),p.HIERARCHY_REQUEST_ERR=(A[3]="Hierarchy request error",3)),x=(p.WRONG_DOCUMENT_ERR=(A[4]="Wrong document",4),p.INVALID_CHARACTER_ERR=(A[5]="Invalid character",5),p.NO_DATA_ALLOWED_ERR=(A[6]="No data allowed",6),p.NO_MODIFICATION_ALLOWED_ERR=(A[7]="No modification allowed",7),p.NOT_FOUND_ERR=(A[8]="Not found",8)),N=(p.NOT_SUPPORTED_ERR=(A[9]="Not supported",9),p.INUSE_ATTRIBUTE_ERR=(A[10]="Attribute in use",10));function D(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,A[e]),this.message=A[e],Error.captureStackTrace&&Error.captureStackTrace(this,D);return n.code=e,t&&(this.message=this.message+": "+t),n}function T(){}function S(e,t){this._node=e,this._refresh=t,O(this)}function O(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ne(e,"length",r.length),n(r,e),e._inc=t}}function v(){}function L(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function V(e,t,n,r){if(r?t[L(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&C(i,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function b(e,t,n){var r=L(t,n);if(!(r>=0))throw D(x,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var a=e.ownerDocument;a&&(C(a,e,n),n.ownerElement=null)}}function w(e){if(this._features={},e)for(var t in e)this._features=e[t]}function R(){}function Z(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function y(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(y(e,t))return!0}while(e=e.nextSibling)}function I(){}function C(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function H(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,a=0;i;)r[a++]=i,i=i.nextSibling;r.length=a}}}function F(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,H(e.ownerDocument,e),t}function P(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===f){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;var l=n?n.previousSibling:e.lastChild;i.previousSibling=l,a.nextSibling=n,l?l.nextSibling=i:e.firstChild=i,null==n?e.lastChild=a:n.previousSibling=a;do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));return H(e.ownerDocument||e,e),t.nodeType==f&&(t.firstChild=t.lastChild=null),t}function U(){this._nsMap={}}function M(){}function z(){}function _(){}function k(){}function W(){}function K(){}function J(){}function G(){}function $(){}function X(){}function j(){}function q(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,a=r.namespaceURI;if(a&&null==i&&null==(i=r.lookupPrefix(a)))var l=[{namespace:a,prefix:null}];return Q(this,n,e,t,l),n.join("")}function Y(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var a=n.length;a--;){var l=n[a];if(l.prefix==r)return l.namespace!=i}return!0}function Q(e,t,n,r,i){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case a:i||(i=[]),i.length;var o=e.attributes,h=o.length,p=e.firstChild,A=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",A);for(var B=0;B<h;B++)"xmlns"==(x=o.item(B)).prefix?i.push({prefix:x.localName,namespace:x.value}):"xmlns"==x.nodeName&&i.push({prefix:"",namespace:x.value});for(B=0;B<h;B++){var x;if(Y(x=o.item(B),0,i)){var N=x.prefix||"",D=x.namespaceURI,T=N?" xmlns:"+N:" xmlns";t.push(T,'="',D,'"'),i.push({prefix:N,namespace:D})}Q(x,t,n,r,i)}if(Y(e,0,i)&&(N=e.prefix||"",(D=e.namespaceURI)&&(T=N?" xmlns:"+N:" xmlns",t.push(T,'="',D,'"'),i.push({prefix:N,namespace:D}))),p||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(A)){if(t.push(">"),n&&/^script$/i.test(A))for(;p;)p.data?t.push(p.data):Q(p,t,n,r,i),p=p.nextSibling;else for(;p;)Q(p,t,n,r,i),p=p.nextSibling;t.push("</",A,">")}else t.push("/>");return;case E:case f:for(p=e.firstChild;p;)Q(p,t,n,r,i),p=p.nextSibling;return;case l:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,Z),'"');case c:return t.push(e.data.replace(/[<&]/g,Z).replace(/]]>/g,"]]&gt;"));case s:return t.push("<![CDATA[",e.data,"]]>");case g:return t.push("\x3c!--",e.data,"--\x3e");case d:var S=e.publicId,O=e.systemId;if(t.push("<!DOCTYPE ",e.name),S)t.push(" PUBLIC ",S),O&&"."!=O&&t.push(" ",O),t.push(">");else if(O&&"."!=O)t.push(" SYSTEM ",O,">");else{var v=e.internalSubset;v&&t.push(" [",v,"]"),t.push(">")}return;case m:return t.push("<?",e.target," ",e.data,"?>");case u:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ee(e,t,n){var r;switch(t.nodeType){case a:(r=t.cloneNode(!1)).ownerDocument=e;case f:break;case l:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(ee(e,i,n)),i=i.nextSibling;return r}function te(e,t,n){var r=new t.constructor;for(var i in t){var c=t[i];"object"!=typeof c&&c!=r[i]&&(r[i]=c)}switch(t.childNodes&&(r.childNodes=new T),r.ownerDocument=e,r.nodeType){case a:var s=t.attributes,u=r.attributes=new v,o=s.length;u._ownerElement=r;for(var m=0;m<o;m++)r.setAttributeNode(te(e,s.item(m),!0));break;case l:n=!0}if(n)for(var g=t.firstChild;g;)r.appendChild(te(e,g,n)),g=g.nextSibling;return r}function ne(e,t,n){e[t]=n}p.INVALID_STATE_ERR=(A[11]="Invalid state",11),p.SYNTAX_ERR=(A[12]="Syntax error",12),p.INVALID_MODIFICATION_ERR=(A[13]="Invalid modification",13),p.NAMESPACE_ERR=(A[14]="Invalid namespace",14),p.INVALID_ACCESS_ERR=(A[15]="Invalid access",15),D.prototype=Error.prototype,n(p,D),T.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)Q(this[r],n,e,t);return n.join("")}},S.prototype.item=function(e){return O(this),this[e]},r(S,T),v.prototype={length:0,item:T.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new D(N);var n=this.getNamedItem(e.nodeName);return V(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new D(N);return t=this.getNamedItemNS(e.namespaceURI,e.localName),V(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return b(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return b(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},w.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new I;if(r.implementation=this,r.childNodes=new T,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new K;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},R.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return P(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return F(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return te(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==c&&e.nodeType==c?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==l?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==l?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(i,R),n(i,R.prototype),I.prototype={nodeName:"#document",nodeType:E,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==f){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==a&&(this.documentElement=e),P(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),F(this,e)},importNode:function(e,t){return ee(this,e,t)},getElementById:function(e){var t=null;return y(this.documentElement,(function(n){if(n.nodeType==a&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)");return new S(this,(function(e){var n=[];return y(e.documentElement,(function(r){r!==e&&r.nodeType==a&&t.test(r.getAttribute("class"))&&n.push(r)})),n}))},createElement:function(e){var t=new U;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new T,(t.attributes=new v)._ownerElement=t,t},createDocumentFragment:function(){var e=new X;return e.ownerDocument=this,e.childNodes=new T,e},createTextNode:function(e){var t=new _;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new k;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new j;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new M;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new $;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new U,r=t.split(":"),i=n.attributes=new v;return n.childNodes=new T,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new M,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(I,R),U.prototype={nodeType:a,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===f?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,H(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new S(this,(function(t){var n=[];return y(t,(function(r){r===t||r.nodeType!=a||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new S(this,(function(n){var r=[];return y(n,(function(i){i===n||i.nodeType!==a||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},I.prototype.getElementsByTagName=U.prototype.getElementsByTagName,I.prototype.getElementsByTagNameNS=U.prototype.getElementsByTagNameNS,r(U,R),M.prototype.nodeType=l,r(M,R),z.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(A[B])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(z,R),_.prototype={nodeName:"#text",nodeType:c,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(_,z),k.prototype={nodeName:"#comment",nodeType:g},r(k,z),W.prototype={nodeName:"#cdata-section",nodeType:s},r(W,z),K.prototype.nodeType=d,r(K,R),J.prototype.nodeType=h,r(J,R),G.prototype.nodeType=o,r(G,R),$.prototype.nodeType=u,r($,R),X.prototype.nodeName="#document-fragment",X.prototype.nodeType=f,r(X,R),j.prototype.nodeType=m,r(j,R),R.prototype.toString=q;try{if(Object.defineProperty){function re(e){switch(e.nodeType){case a:case f:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(re(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(S.prototype,"length",{get:function(){return O(this),this.$$length}}),Object.defineProperty(R.prototype,"textContent",{get:function(){return re(this)},set:function(e){switch(this.nodeType){case a:case f:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ne=function(e,t,n){e["$$"+t]=n}}}catch(e){}t.DOMImplementation=w},791:(e,t)=>{t.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},275:(e,t)=>{var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function a(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,a)}function l(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function s(e,t,n,r,i,a){function l(e,t,r){e in n.attributeNames&&a.fatalError("Attribute "+e+" redefined"),n.addValue(e,t,r)}for(var c,s=++t,u=0;;){var o=e.charAt(s);switch(o){case"=":if(1===u)c=e.slice(t,s),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(a.warning('attribute value must after "="'),c=e.slice(t,s)),t=s+1,!((s=e.indexOf(o,t))>0))throw new Error("attribute value no end '"+o+"' match");l(c,m=e.slice(t,s).replace(/&#?\w+;/g,i),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');l(c,m=e.slice(t,s).replace(/&#?\w+;/g,i),t),a.warning('attribute "'+c+'" missed start quot('+o+")!!"),t=s+1,u=5}break;case"/":switch(u){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==u&&n.setTagName(e.slice(t,s)),s;case">":switch(u){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(m=e.slice(t,s)).slice(-1)&&(n.closed=!0,m=m.slice(0,-1));case 2:2===u&&(m=c),4==u?(a.warning('attribute "'+m+'" missed quot(")!'),l(c,m.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&m.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+m+'" missed value!! "'+m+'" instead!!'),l(m,m,t));break;case 3:throw new Error("attribute value missed!!")}return s;case"":o=" ";default:if(o<=" ")switch(u){case 0:n.setTagName(e.slice(t,s)),u=6;break;case 1:c=e.slice(t,s),u=2;break;case 4:var m=e.slice(t,s).replace(/&#?\w+;/g,i);a.warning('attribute "'+m+'" missed quot(")!!'),l(c,m,t);case 5:u=6}else switch(u){case 2:n.tagName,"http://www.w3.org/1999/xhtml"===r[""]&&c.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),l(c,c,t),t=s,u=1;break;case 5:a.warning('attribute space is required"'+c+'"!!');case 6:u=1,t=s;break;case 3:u=4,t=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function u(e,t,n){for(var r=e.tagName,i=null,a=e.length;a--;){var l=e[a],c=l.qName,s=l.value;if((E=c.indexOf(":"))>0)var u=l.prefix=c.slice(0,E),o=c.slice(E+1),m="xmlns"===u&&o;else o=c,u=null,m="xmlns"===c&&"";l.localName=o,!1!==m&&(null==i&&(i={},g(n,n={})),n[m]=i[m]=s,l.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(m,s))}for(a=e.length;a--;)(u=(l=e[a]).prefix)&&("xml"===u&&(l.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(l.uri=n[u||""]));var E;(E=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,E),o=e.localName=r.slice(E+1)):(u=null,o=e.localName=r);var d=e.uri=n[u||""];if(t.startElement(d,o,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(d,o,r),i)for(u in i)t.endPrefixMapping(u)}function o(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),l=e.substring(t+1,a);if(/[&<]/.test(l))return/^script$/i.test(n)?(i.characters(l,0,l.length),a):(l=l.replace(/&#?\w+;/g,r),i.characters(l,0,l.length),a)}return t+1}function m(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function g(e,t){for(var n in e)t[n]=e[n]}function E(e,t,n,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var a=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),l=a.length;if(l>1&&/!doctype/i.test(a[0][0])){var c=a[1][0],s=!1,u=!1;l>3&&(/^public$/i.test(a[2][0])?(s=a[3][0],u=l>4&&a[4][0]):/^system$/i.test(a[2][0])&&(u=a[3][0]));var o=a[l-1];return n.startDTD(c,s,u),n.endDTD(),o.index+o[0].length}return-1}function d(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function f(){this.attributeNames={}}a.prototype=new Error,a.prototype.name=a.name,l.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),g(t,t={}),function(e,t,n,r,i){function l(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function g(t){if(t>T){var n=e.substring(T,t).replace(/&#?\w+;/g,l);x&&h(T),r.characters(n,0,t-T),T=t}}function h(t,n){for(;t>=A&&(n=B.exec(e));)p=n.index,A=p+n[0].length,x.lineNumber++;x.columnNumber=t-p+1}for(var p=0,A=0,B=/.*(?:\r\n?|\n)|.*$/g,x=r.locator,N=[{currentNSMap:t}],D={},T=0;;){try{var S=e.indexOf("<",T);if(S<0){if(!e.substr(T).match(/^\s*$/)){var O=r.doc,v=O.createTextNode(e.substr(T));O.appendChild(v),r.currentElement=v}return}switch(S>T&&g(S),e.charAt(S+1)){case"/":var L=e.indexOf(">",S+3),V=e.substring(S+2,L),b=N.pop();L<0?(V=e.substring(S+2).replace(/[\s<].*/,""),i.error("end tag name: "+V+" is not complete:"+b.tagName),L=S+1+V.length):V.match(/\s</)&&(V=V.replace(/[\s<].*/,""),i.error("end tag name: "+V+" maybe not complete"),L=S+1+V.length);var w=b.localNSMap,R=b.tagName==V;if(R||b.tagName&&b.tagName.toLowerCase()==V.toLowerCase()){if(r.endElement(b.uri,b.localName,V),w)for(var Z in w)r.endPrefixMapping(Z);R||i.fatalError("end tag name: "+V+" is not match the current start tagName:"+b.tagName)}else N.push(b);L++;break;case"?":x&&h(S),L=d(e,S,r);break;case"!":x&&h(S),L=E(e,S,r,i);break;default:x&&h(S);var y=new f,I=N[N.length-1].currentNSMap,C=(L=s(e,S,y,I,l,i),y.length);if(!y.closed&&m(e,L,y.tagName,D)&&(y.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),x&&C){for(var H=c(x,{}),F=0;F<C;F++){var P=y[F];h(P.offset),P.locator=c(x,{})}r.locator=H,u(y,r,I)&&N.push(y),r.locator=x}else u(y,r,I)&&N.push(y);"http://www.w3.org/1999/xhtml"!==y.uri||y.closed?L++:L=o(e,L,y.tagName,l,r)}}catch(e){if(e instanceof a)throw e;i.error("element parse error: "+e),L=-1}L>T?T=L:g(Math.max(S,T)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},f.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=a},348:e=>{"use strict";e.exports=JSON.parse('{"nbsp":" ","iexcl":"¡","cent":"¢","pound":"£","curren":"¤","yen":"¥","brvbar":"¦","sect":"§","uml":"¨","copy":"©","ordf":"ª","laquo":"«","not":"¬","shy":"­","reg":"®","macr":"¯","deg":"°","plusmn":"±","sup2":"²","sup3":"³","acute":"´","micro":"µ","para":"¶","middot":"·","cedil":"¸","sup1":"¹","ordm":"º","raquo":"»","frac14":"¼","frac12":"½","frac34":"¾","iquest":"¿","Agrave":"À","Aacute":"Á","Acirc":"Â","Atilde":"Ã","Auml":"Ä","Aring":"Å","AElig":"Æ","Ccedil":"Ç","Egrave":"È","Eacute":"É","Ecirc":"Ê","Euml":"Ë","Igrave":"Ì","Iacute":"Í","Icirc":"Î","Iuml":"Ï","ETH":"Ð","Ntilde":"Ñ","Ograve":"Ò","Oacute":"Ó","Ocirc":"Ô","Otilde":"Õ","Ouml":"Ö","times":"×","Oslash":"Ø","Ugrave":"Ù","Uacute":"Ú","Ucirc":"Û","Uuml":"Ü","Yacute":"Ý","THORN":"Þ","szlig":"ß","agrave":"à","aacute":"á","acirc":"â","atilde":"ã","auml":"ä","aring":"å","aelig":"æ","ccedil":"ç","egrave":"è","eacute":"é","ecirc":"ê","euml":"ë","igrave":"ì","iacute":"í","icirc":"î","iuml":"ï","eth":"ð","ntilde":"ñ","ograve":"ò","oacute":"ó","ocirc":"ô","otilde":"õ","ouml":"ö","divide":"÷","oslash":"ø","ugrave":"ù","uacute":"ú","ucirc":"û","uuml":"ü","yacute":"ý","thorn":"þ","yuml":"ÿ","fnof":"ƒ","Alpha":"Α","Beta":"Β","Gamma":"Γ","Delta":"Δ","Epsilon":"Ε","Zeta":"Ζ","Eta":"Η","Theta":"Θ","Iota":"Ι","Kappa":"Κ","Lambda":"Λ","Mu":"Μ","Nu":"Ν","Xi":"Ξ","Omicron":"Ο","Pi":"Π","Rho":"Ρ","Sigma":"Σ","Tau":"Τ","Upsilon":"Υ","Phi":"Φ","Chi":"Χ","Psi":"Ψ","Omega":"Ω","alpha":"α","beta":"β","gamma":"γ","delta":"δ","epsilon":"ε","zeta":"ζ","eta":"η","theta":"θ","iota":"ι","kappa":"κ","lambda":"λ","mu":"μ","nu":"ν","xi":"ξ","omicron":"ο","pi":"π","rho":"ρ","sigmaf":"ς","sigma":"σ","tau":"τ","upsilon":"υ","phi":"φ","chi":"χ","psi":"ψ","omega":"ω","thetasym":"ϑ","upsih":"ϒ","piv":"ϖ","bull":"•","hellip":"…","prime":"′","Prime":"″","oline":"‾","frasl":"⁄","weierp":"℘","image":"ℑ","real":"ℜ","trade":"™","alefsym":"ℵ","larr":"←","uarr":"↑","rarr":"→","darr":"↓","harr":"↔","crarr":"↵","lArr":"⇐","uArr":"⇑","rArr":"⇒","dArr":"⇓","hArr":"⇔","forall":"∀","part":"∂","exist":"∃","empty":"∅","nabla":"∇","isin":"∈","notin":"∉","ni":"∋","prod":"∏","sum":"∑","minus":"−","lowast":"∗","radic":"√","prop":"∝","infin":"∞","ang":"∠","and":"∧","or":"∨","cap":"∩","cup":"∪","int":"∫","there4":"∴","sim":"∼","cong":"≅","asymp":"≈","ne":"≠","equiv":"≡","le":"≤","ge":"≥","sub":"⊂","sup":"⊃","nsub":"⊄","sube":"⊆","supe":"⊇","oplus":"⊕","otimes":"⊗","perp":"⊥","sdot":"⋅","lceil":"⌈","rceil":"⌉","lfloor":"⌊","rfloor":"⌋","lang":"〈","rang":"〉","loz":"◊","spades":"♠","clubs":"♣","hearts":"♥","diams":"♦","quot":"\\"","amp":"&","lt":"<","gt":">","OElig":"Œ","oelig":"œ","Scaron":"Š","scaron":"š","Yuml":"Ÿ","circ":"ˆ","tilde":"˜","ensp":" ","emsp":" ","thinsp":" ","zwnj":"‌","zwj":"‍","lrm":"‎","rlm":"‏","ndash":"–","mdash":"—","lsquo":"‘","rsquo":"’","sbquo":"‚","ldquo":"“","rdquo":"”","bdquo":"„","dagger":"†","Dagger":"‡","permil":"‰","lsaquo":"‹","rsaquo":"›","euro":"€"}')},452:e=>{"use strict";e.exports=JSON.parse('{"AElig":"Æ","AMP":"&","Aacute":"Á","Acirc":"Â","Agrave":"À","Aring":"Å","Atilde":"Ã","Auml":"Ä","COPY":"©","Ccedil":"Ç","ETH":"Ð","Eacute":"É","Ecirc":"Ê","Egrave":"È","Euml":"Ë","GT":">","Iacute":"Í","Icirc":"Î","Igrave":"Ì","Iuml":"Ï","LT":"<","Ntilde":"Ñ","Oacute":"Ó","Ocirc":"Ô","Ograve":"Ò","Oslash":"Ø","Otilde":"Õ","Ouml":"Ö","QUOT":"\\"","REG":"®","THORN":"Þ","Uacute":"Ú","Ucirc":"Û","Ugrave":"Ù","Uuml":"Ü","Yacute":"Ý","aacute":"á","acirc":"â","acute":"´","aelig":"æ","agrave":"à","amp":"&","aring":"å","atilde":"ã","auml":"ä","brvbar":"¦","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","curren":"¤","deg":"°","divide":"÷","eacute":"é","ecirc":"ê","egrave":"è","eth":"ð","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","iacute":"í","icirc":"î","iexcl":"¡","igrave":"ì","iquest":"¿","iuml":"ï","laquo":"«","lt":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","ntilde":"ñ","oacute":"ó","ocirc":"ô","ograve":"ò","ordf":"ª","ordm":"º","oslash":"ø","otilde":"õ","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","raquo":"»","reg":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","thorn":"þ","times":"×","uacute":"ú","ucirc":"û","ugrave":"ù","uml":"¨","uuml":"ü","yacute":"ý","yen":"¥","yuml":"ÿ"}')},235:e=>{"use strict";e.exports=JSON.parse('["cent","copy","divide","gt","lt","not","para","times"]')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(379),t=n.n(e),r=n(795),i=n.n(r),a=n(569),l=n.n(a),c=n(565),s=n.n(c),u=n(216),o=n.n(u),m=n(589),g=n.n(m),E=n(703),d={};d.styleTagTransform=g(),d.setAttributes=s(),d.insert=l().bind(null,"head"),d.domAPI=i(),d.insertStyleElement=o(),t()(E.Z,d),E.Z&&E.Z.locals&&E.Z.locals;var f=n(647);const h=/^-?[0-9]+(\.[0-9]+)?$/;class p extends Error{constructor(e){super(e)}}class A extends class{constructor(e){if(""===e)throw new p("No name provided!");this.name=e,this.literal=!1}}{constructor(e){super(e),this.targetExpr=null}visit(e){return e.name(this)}toString(){let e=this.name;return this.targetExpr&&(e=this.targetExpr+"."+e),e}}class B{constructor(e,t){this.targetExpr=e,this.keyExpr=t}visit(e){return e.key(this)}toString(){return`${this.targetExpr}[${this.keyExpr}]`}}class x{constructor(e,t,n,r){if("="===e&&!(n instanceof A||n instanceof B))throw new p(`Can only assign to name or list index but provided ${n}`);this.opSymbol=e,this.visitorOp=t,this.leftExpr=n,this.rightExpr=r,this.literal=!1}visit(e){if(!e[this.visitorOp])throw new Error(`Unsupported visitor function "${this.visitorOp}"`);return e[this.visitorOp](this)}toString(){let e=this.rightExpr instanceof x?`(${this.rightExpr})`:this.rightExpr;return`${this.leftExpr}${this.opSymbol}${e}`}}const N=p,D=A,T=class{constructor(e){if(this.num=e,!e.match(h))throw new p('Invalid number "'+e+'" provided!');this.literal=!0}visit(e){return e.number(this)}toString(){return this.num}},S=class{constructor(e){this.exprList=e,this.literal=!1}visit(e){return e.list(this.exprList)}toString(){return`{${this.exprList.join(",")}}`}},O=B,v=class{constructor(e,t){if(e.literal)throw new p("Cannot invoke function on literal "+e);this.refExpr=e,this.argExprList=t,this.literal=!1}visit(e){return e.call(this)}toString(){return`${this.refExpr}(${this.argExprList.join(",")})`}},L=x,V=class{constructor(e){if(e.literal)throw new p(`Cannot use literal ${e} as constructor`);this.typeRefExpr=e,this.literal=!1}visit(e){return e.constructorRef(this)}toString(){return"new "+this.typeRefExpr}},b=/\+|\.|\||\*|\[|\]/g,w=e=>new RegExp(`^${e}`),R=w("\\s*"),Z=(w("[0-9]+"),w("-?[0-9]+(\\.[0-9]+)?")),y=w("[a-zA-Z0-9_]+"),I=w("{"),C=w("}"),H=w("\\("),F=w("\\)"),P=w(","),U=w("\\["),M=w("\\]"),z=w("\\."),_=w(""),k=(e,t,n)=>({matcher:w(e.replace(b,"\\$&")),symbol:e,name:t,strength:n});function W(e,t){return{matcher:e,parse:t}}function K(e,t){e.skipWhitespace();let n=function(e){return e.skipWhitespace(),e.parse(q)}(e);n instanceof D&&"new"===n.name&&(e.skipWhitespace(),n=new V(e.parse(q)));let r=e.pos;for(;e.hasMore()&&(n=Y(e,n,t),e.pos!==r);)r=e.pos;return n}const J=[k("||","or",2),k("&&","and",3),k("==","equal",4),k("!=","notEqual",4),k("=","assign",1),k(">=","gte",4),k("<=","lte",4),k(">","gt",4),k("<","lt",4),k("+","plus",5),k("-","minus",5),k("*","multiply",6),k("/","divide",6)],G=[W(R,(e=>{}))],$=[W(F,(e=>{}))],X=[W(M,(e=>{}))],j=[W(y,(function(e,t){return new D(t)}))],q=[W(Z,(function(e,t){return new T(t)})),j[0],W(I,(function(e){e.skipWhitespace();let t=[];return Q(e,t,C,(e=>new S(t)))})),W(H,(function(e){let t=K(e,0);return e.parse($),t}))];function Y(e,t,n){e.skipWhitespace();let r=[W(H,(l=t,e=>{e.skipWhitespace();let t=[];return Q(e,t,F,(e=>new v(l,t)))})),W(z,(a=t,e=>{if(a instanceof T)throw new te("Cannot dereference number!");e.skipWhitespace();let t=e.parse(j);return t.targetExpr=a,Y(e,t)})),W(U,(i=t,e=>{e.skipWhitespace();let t=K(e);return e.skipWhitespace(),e.parse(X),new O(i,t)}))];var i,a,l;return J.filter((e=>e.strength>=n)).forEach((e=>r.push(W(e.matcher,function(e,t,n,r){return i=>{let a=K(i,r+1);return new L(t,n,e,a)}}(t,e.symbol,e.name,e.strength))))),e.parse(r,t)}function Q(e,t,n,r){return e.skipWhitespace(),e.parse([W(n,r),W(_,(e=>(t.push(K(e,0)),e.parse([W(n,r),W(P,(e=>Q(e,t,n,r)))]))))])}class ee{constructor(e){this.expr=e,this.exprRest=e,this.pos=0}get char(){return this.expr.charAt(this.pos)}hasMore(){return this.pos<this.expr.length}skipWhitespace(){this.parse(G)}parse(e,t){for(let t of e){let e=t.matcher.exec(this.exprRest);if(e){let n=e[0];return this.pos+=n.length,this.exprRest=this.expr.substring(this.pos),t.parse(this,n)}}if(t)return t;{let t=e.map((e=>e.matcher.source.substring(1))).join("|");throw new te('Unexpected character "'+this.char+'"! Expected '+t+".")}}finish(){if(this.hasMore())throw new te('Unexpected character "'+this.char+'" after end of expression!')}}class te extends Error{constructor(e){super(e)}}function ne(e){return" (position "+e.pos+")\n\n\t"+e.expr+"\n\t"+" ".repeat(e.pos)+"^"}function re(e){let t=new ee(e);try{let e=K(t,0);return t.finish(),e}catch(e){throw e instanceof N?e=new te(e.message+ne(t)):e instanceof te&&(e.message+=ne(t)),e.message="Cannot parse expression: "+e.message,e}}class ie{constructor(e,t,n){this.name=e,this.expr=t,this.comment=n}visit(e){return e.methodExpr(this)}toString(){return`function ${this.name}() ${this.expr}`}}class ae{constructor(e,t,n){this.condExpr=e,this.thenExpr=t,this.elseExpr=n}visit(e){return e.ifExpr(this)}toString(){let e="";return this.elseExpr&&this.elseExpr.exprList.length>0&&(e=` else ${this.elseExpr}`),`if (${this.condExpr}) ${this.thenExpr}${e}`}}class le{constructor(e){if(!e.map)throw new Error(`No expressions provided: ${typeof e}: ${e}`);this.exprList=e}visit(e){try{return e.blockExpr(this)}catch(e){throw e.errInfoAdded||(e.message+=`\n\texpression context:\n\t\t${this.toString().replace(/\n/g,"\n\t\t")}`,e.errInfoAdded=!0),e}}toString(){return`{${this.exprList.map((e=>`\n${e}`)).join("").replace(/\n/g,"\n  ")}\n}`}}function ce(e,t,n){let r=t[e.tagName];if(!r)throw new Error(`Unexpected tag "${e.tagName}" in PAP XML`);return r(e,ge(e),n)}function se(e,t,n){let r=[];for(let i in e.childNodes){let a=e.childNodes[i];a.tagName&&r.push(ce(a,t,n))}return r}function ue(e){let t=e.previousSibling;for(;t&&!t.tagName;){if(8===t.nodeType)return t.nodeValue;t=t.previousSibling}return null}function oe(e,t,n){if("string"!=typeof t.name)throw new Error(`PAP ${e.tagName} has no "name" string property`);if("string"!=typeof t.type)throw new Error(`PAP ${e.tagName} has no "type" string property`);let r=t.hasOwnProperty("value")?t.value:t.default,i=r?re(r):null,a=e.tagName,l=ge(e.parentNode).type;l&&(a+=`:${l}`);let c=new xe(t.name,a,t.type,i,ue(e));return n.vars.push(c),c}function me(e,t,n){let r=t.name||"MAIN",i=new ie(r,new le(se(e,he)),ue(e));return n.methods.push(i),i}function ge(e){let t={};for(let n in e.attributes){let r=e.attributes[n];t[r.name]=r.nodeValue}return t}let Ee={PAP:(e,t,n)=>{if(n)throw new Error("Unexpected PAP tag as child of PAP XML");return se(e,fe,n={vars:[],methods:[]}),n}},de=(e,t,n)=>se(e,fe,n),fe={VARIABLES:de,INPUTS:de,OUTPUTS:de,INTERNALS:de,CONSTANTS:de,INPUT:oe,OUTPUT:oe,INTERNAL:oe,CONSTANT:oe,METHODS:de,METHOD:me,MAIN:me},he={IF:(e,t)=>{let n=Be(se(e,pe)),r=Be(se(e,Ae));if(0===n.length)throw new Error("IF XML expression tag has no THEN child");return new ae(re(t.expr),new le(n),r.length>0?new le(r):null)},EVAL:(e,t)=>re(t.exec),EXECUTE:(e,t)=>new v(new D(t.method),[])},pe={THEN:(e,t,n)=>se(e,he,n),ELSE:e=>[]},Ae={THEN:e=>[],ELSE:(e,t,n)=>se(e,he,n)};function Be(e){return e.reduce(((e,t)=>{for(let n of e)t.push(n);return t}),[])}class xe{constructor(e,t,n,r,i){this.name=e,this.varType=t,this.type=n,this.comment=i,this.expr=r}evaluate(e){return this.expr?this.expr.visit(e):void 0}}var Ne=n(431),De=n.n(Ne);De().set({DECIMAL_PLACES:20,ROUNDING_MODE:De().ROUND_HALF_UP});class Te extends Error{constructor(e,t,n){super(e),this.expr=t,this.scope=n}}function Se(e,t){let n=t.leftExpr.visit(e),r=t.rightExpr.visit(e);return n instanceof De()&&r instanceof De()&&(n=n.toFixed(),r=r.toFixed()),n===r}function Oe(e,t,n,r){try{return r(n(e,t.leftExpr),n(e,t.rightExpr))}catch(e){throw e.message=`${t.opSymbol} operation ${t} failed: ${e.message}`,e}}function ve(e,t){let n=t.visit(e);if(!(n instanceof De())||n.isNaN()||!n.isFinite())throw new Te(`numeric (BigNumber) value required but ${t} returned ${typeof n}($v)`,t,e.scope);return n}function Le(e,t){let n=t.visit(e),r=typeof n;if("boolean"!==r)throw new Te(`numeric value required but ${t} returned ${r}`,t,e.scope);return n}class Ve extends class{constructor(e){if("object"!=typeof e)throw new Error("no scope of type object provided");this.scope=e}number(e){return new(De())(""+e.num)}name(e){let t=this.scope;if(e.targetExpr&&(t=e.targetExpr.visit(this),"object"!=typeof t))throw new Te(`${e.targetExpr} is not an object`,e.targetExpr,this.scope);let n=t[e.name];if(null==n)throw new Te(`${e} is ${n}`,e,this.scope);return"function"==typeof n&&(n=n.bind(t)),n}list(e){return e.map((e=>e.visit(this)))}key(e){let t=e.targetExpr.visit(this),n=e.keyExpr.visit(this);if(!(t instanceof Array))throw new Te(`target expression ${e.targetExpr} is not a list`,e.targetExpr,this.scope);let r=new(De())(n);if(r.toFixed()!==r.integerValue().toFixed())throw new Te(`index expression ${e.keyExpr} is not an int`,e.keyExpr,this.scope);let i=t[n];if(null==i)throw new Te(`expression ${e} returned ${i}`,e,this.scope);return i}constructorRef(e){let t=e.typeRefExpr.visit(this);if("object"!=typeof t||"function"!=typeof t.construct)throw new Te(`${e.typeRefExpr} is not constructable`,e.typeRefExpr,this.scope);return t.construct}call(e){let t=e.refExpr.visit(this),n=typeof t;if("function"!==n)throw new Te(`${e.refExpr} is not a function but ${n}`,e.refExpr,this.scope);let r,i=e.argExprList.map((e=>e.visit(this)));try{r=t.apply(null,i)}catch(t){throw t.message=`${e}: ${t.message}`,t}if(null==r)throw new Te(`${e} returned ${r}`,e,this.scope);return r}assign(e){let t=e.leftExpr,n=e.rightExpr,r=this.scope;if(t.targetExpr){r=t.targetExpr.visit(this);let e=typeof r;if("object"!==e)throw new Te(`cannot dereference ${t.targetExpr} since it is not an object but ${e}`,t.targetExpr,this.scope)}let i=n.visit(this);if(null==i)throw new Te(`${n} returned ${i}`,n,this.scope);let a=t.name;return t.keyExpr&&(a=t.keyExpr.visit(this)),r[a]=i,i}equal(e){return Se(this,e)}notEqual(e){return!Se(this,e)}or(e){return Oe(this,e,Le,((e,t)=>e||t))}and(e){return Oe(this,e,Le,((e,t)=>e&&t))}plus(e){return Oe(this,e,ve,((e,t)=>e.plus(t)))}minus(e){return Oe(this,e,ve,((e,t)=>e.minus(t)))}multiply(e){return Oe(this,e,ve,((e,t)=>e.times(t)))}divide(e){return Oe(this,e,ve,((e,t)=>e.div(t)))}gt(e){return Oe(this,e,ve,((e,t)=>e.gt(t)))}lt(e){return Oe(this,e,ve,((e,t)=>e.lt(t)))}gte(e){return Oe(this,e,ve,((e,t)=>e.gte(t)))}lte(e){return Oe(this,e,ve,((e,t)=>e.lte(t)))}}{constructor(e){super(e)}blockExpr(e){let t=this,n=e.exprList.map((e=>e.visit(t)));return 0===n.length?null:n[n.length-1]}ifExpr(e){return this.condExpr(e.condExpr,"condition")?this.thenExpr(e.thenExpr):e.elseExpr?this.elseExpr(e.elseExpr):null}condExpr(e){let t=e.visit(this);if("boolean"!=typeof t)throw new Error(`condition expression ${e.condExpr} must return a boolean but returned ${humanReadable(t)}`);return t}thenExpr(e){return e.visit(this)}elseExpr(e){return e.visit(this)}methodExpr(e){if(void 0!==this.scope[e.name])throw new Error(`Duplicate definition of PAP scope name ${e.name} (method)`);let t=t=>(e.expr.visit(this),!0);return this.scope[e.name]=t,t}}function be(e){return Ze(arguments,1,1),new we(e)}class we{constructor(e){if(!(e instanceof De())||e.isNaN()||!e.isFinite())throw new Error(`Cannot create BigDecimal from ${Ie(e)}`);this.num=e}setScale(e,t){return Ze(arguments,2,2),new we(this.num.decimalPlaces(ye(e),ye(t)))}add(e){return Ze(arguments,1,1),Re(e),new we(this.num.plus(e.num))}subtract(e){return Ze(arguments,1,1),Re(e),new we(this.num.minus(e.num))}multiply(e){return Ze(arguments,1,1),Re(e),new we(this.num.times(e.num))}divide(e,t,n){Ze(arguments,1,3),Re(e);let r=arguments.length>1?e=>e.setScale(t,n):e=>e;return new we(r(this).num.div(r(e).num))}compareTo(e){return Ze(arguments,1,1),Re(e),new(De())(this.num.comparedTo(e.num))}longValue(){return this.num.decimalPlaces(0,De().ROUND_DOWN)}toString(){return Ze(arguments,0,0),this.num.toFixed()}}function Re(e){if(!(e instanceof we)||e.num.isNaN()||!e.num.isFinite())throw new Error(`No valid BigDecimal provided but ${Ie(e)}`)}function Ze(e,t,n){if(e.length<t||e.length>n)throw new Error(`Expected ${t}/${n} arguments but received ${e.length}`)}function ye(e){let t=e.integerValue().toFixed();if(e.toFixed()!==t)throw new Error(`Cannot convert ${Ie(e)} to int`);return parseInt(t)}function Ie(e){return null===e?"null":`${e.constructor.name}(${e})`}class Ce{constructor(e){if(0===e.methods.filter((e=>"MAIN"===e.name)).length)throw new Error("No MAIN method specified within PAP XML");this.name=e.name,this.vars=e.vars,this.expr=new le([...e.methods,new v(new D("MAIN"),[])])}inputs(){return new Me(this.varDecls("INPUT"))}outputs(){return new Me(this.varDecls("OUTPUT"))}defaults(){let e=ke(),t=new Ve(e),n={};return He(this.vars,t,n),n}varDecls(e){let t=new RegExp(`^${e}(:|$)`),n=this.vars.filter((e=>e.varType.match(t))).map((e=>new Ue(e.name,e.type,e.varType,e.comment)));if(0===n.length)throw new Error(`No "${e}" var def found`);return n}evaluate(e){let t=ke(),n=new Ve(t);(function(e){e.evaluatedChildren=[],e.evaluationStack=[e];for(const t of function(e){for(var t=[];null!=e;e=Object.getPrototypeOf(e))for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++)-1==t.indexOf(n[r])&&t.push(n[r]);return t}(e)){let n=e[t];"function"==typeof n&&(e[t]=((n,r,i)=>{let a={type:t,expr:r,value:void 0,evaluatedChildren:[],condition:null};if(!r.literal){let t=e.evaluationStack[e.evaluationStack.length-1];if(i){if(t[i])throw new Error(`Last trace stack item's named sub trace "${i}" is already set`);t[i]=a}else t.evaluatedChildren.push(a)}e.evaluationStack.push(a);let l=n.call(e,r);return e.evaluationStack.pop(),a.value=l,l}).bind(null,n))}})(n),this.trace=n.evaluatedChildren,He(this.vars,n,t),Object.assign(t,e),this.expr.visit(n);let r={};for(let e of this.outputs().vars){let n=t[e.name];if(void 0===n)throw new Error(`Missing output ${e.name}`);r[e.name]=n}return r}}function He(e,t,n){for(let r of e){if(void 0!==n[r.name])throw new Error(`Duplicate definition of PAP var ${r.name}`);let e=r.evaluate(t);void 0!==e&&(n[r.name]=e)}}function Fe(e){let t=new(De())(e);if(t.isNaN()||!t.isFinite())throw new Error(`Invalid number provided: ${e}`);return t}const Pe={BigDecimal:e=>new we(Fe(e)),double:e=>Fe(e),int:e=>{let t=Fe(e);if(t.integerValue().toFixed()!==t.toFixed())throw new Error(`Invalid integer provided: ${e}`);return t}};class Ue{constructor(e,t,n,r){this.name=e,this.type=t,this.varType=n,this.comment=r}}class Me{constructor(e){this.vars=e}createValues(e){let t={};for(let n of this.vars){let r=e[n.name];if(""===r||null==r)continue;let i=Pe[n.type];if(!i)throw new Error(`No input converter registered for type ${n.type}`);try{t[n.name]=i(r)}catch(e){throw e.message=`Input ${n.name}: ${e.message}`,e}}return t}}const ze=new(De())(0),_e=new(De())(1);function ke(){return{BigDecimal:{construct:be,valueOf:be,ZERO:new we(ze),ONE:new we(_e),ROUND_UP:ze,ROUND_DOWN:_e,toString:e=>"BigDecimal"}}}n(860);const We={assign:!0,ifExpr:!0};function Ke(e,t){let n="",r="",i="= "+e.value,a=e;if("ifExpr"===e.type&&e.condition){a=e.condition;let t=0===e.evaluatedChildren.length;t&&(n=" inactive-leaf"),r=!0===e.condition.value||t?`if ${e.condition.expr}:`:`if !(${e.condition.expr}):`,i=""}else r=e.expr.toString();return $e("div",{className:"trace-row"+n},$e("div",{className:"trace-expr"},Xe("pre"," ".repeat(4*t)+r),Xe("pre",Je(a.evaluatedChildren,0,[]).join("\n"))),Xe("span",i))}function Je(e,t,n){for(let r of e)"function"!=typeof r.value&&n.push(`${r.expr}: ${r.value}`),Je(r.evaluatedChildren,t+1,n);return n}function Ge(e,t){return $e("div",{},$e("label",{for:e.name},Xe("span",e.name)),$e(t,{name:e.name}),Xe("pre",e.comment||""))}function $e(e,t,...n){let r=document.createElement(e);for(let[e,n]of Object.entries(t))r[e]=n;for(let e of n)r.appendChild(e);return r}function Xe(e,t){return $e(e,{},document.createTextNode(t))}document.body.appendChild((new class{constructor(){let e={className:"table"},t=$e("div",{className:"buttons"},$e("input",{type:"submit",value:"Speichern & Berechnen",onclick:this.calculate.bind(this)}),$e("button",{onclick:this.reset.bind(this)},Xe("span","Löschen & Zurücksetzen")));this.inputContainerEl=$e("div",e),this.outputContainerEl=$e("div",e),this.errCssClass="error-hint",this.errEl=$e("pre",{className:this.errCssClass}),this.traceEl=$e("div",{className:"table trace-table"}),this.papNameEl=$e("output",{}),this.form=$e("form",{onsubmit:e=>!1},$e("div",e,$e("div",{},$e("label",{for:"papfile"},Xe("span","PAP-XML-Datei")),$e("input",{type:"file",name:"papfile",onchange:this.onPAPChanged.bind(this)}),$e("a",{href:"#pseudocode",onclick:this.showPseudoCode.bind(this)},this.papNameEl),$e("div",{},Xe("span","| "),$e("a",{href:"https://www.bmf-steuerrechner.de/interface/pseudocodes.xhtml",target:"blank"},Xe("span","Vom Finanzamt bereitgestellte PAP-XML-Dateien"))))),Xe("h2","Eingabe"),this.inputContainerEl,t,Xe("h2","Ausgabe"),this.outputContainerEl,Xe("h2","Rechenweg"),this.traceEl),this.loadPAP('<PAP name="Lohnsteuer2021Big" version="1.0" versionNummer="1.0">   \r\n    <VARIABLES> \r\n\t\t\x3c!-- Stand: 2020-11-03 --\x3e\r\n\t\t\x3c!-- ITZBund Berlin--\x3e \r\n\r\n   \t\t \x3c!--  EINGABEPARAMETER  --\x3e\r\n        <INPUTS>\r\n            \x3c!-- 1, wenn die Anwendung des Faktorverfahrens gewählt wurden (nur in Steuerklasse IV) --\x3e\r\n\t        <INPUT name="af" type="int" default="1"/>\r\n\t\r\n\t        \x3c!-- Auf die Vollendung des 64. Lebensjahres folgende\r\n\t             Kalenderjahr (erforderlich, wenn ALTER1=1) --\x3e\r\n\t        <INPUT name="AJAHR" type="int"/>\r\n\t\r\n\t        \x3c!-- 1, wenn das 64. Lebensjahr zu Beginn des Kalenderjahres vollendet wurde, in dem\r\n\t             der Lohnzahlungszeitraum endet (§ 24 a EStG), sonst = 0 --\x3e\r\n\t        <INPUT name="ALTER1" type="int"/>\r\n\t\r\n\t        \x3c!-- in VKAPA und VMT enthaltene Entschädigungen nach §24 Nummer 1 EStG in Cent --\x3e\r\n\t        <INPUT name="ENTSCH" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\r\n\t        \x3c!-- eingetragener Faktor mit drei Nachkommastellen --\x3e\r\n\t        <INPUT name="f" type="double" default="1.0"/>\r\n\t\r\n\t        \x3c!-- Jahresfreibetrag nach Maßgabe der Eintragungen auf der\r\n\t             Lohnsteuerkarte in Cents (ggf. 0) --\x3e\r\n\t        <INPUT name="JFREIB" type="BigDecimal"/>\r\n\t\r\n\t        \x3c!-- Jahreshinzurechnungsbetrag in Cents (ggf. 0) --\x3e\r\n\t        <INPUT name="JHINZU" type="BigDecimal"/>\r\n\t\r\n\t        \x3c!-- Voraussichtlicher Jahresarbeitslohn ohne sonstige Bezüge und ohne Vergütung für mehrjährige Tätigkeit in Cent. \r\n\t             Anmerkung: Die Eingabe dieses Feldes (ggf. 0) ist erforderlich bei Eingabe „sonsti-ger Bezüge“ (Feld SONSTB) \r\n\t             oder bei Eingabe der „Vergütung für mehrjährige Tätigkeit“ (Feld VMT).\r\n\t             Sind in einem vorangegangenen Abrechnungszeitraum bereits sonstige Bezüge gezahlt worden, so sind sie dem \r\n\t             voraussichtlichen Jahresarbeitslohn hinzuzurechnen. Vergütungen für mehrere Jahres aus einem vorangegangenen \r\n\t             Abrechnungszeitraum sind in voller Höhe hinzuzurechnen. --\x3e \r\n\t        <INPUT name="JRE4" type="BigDecimal"/>\r\n\t \r\n\t        \x3c!-- In JRE4 enthaltene Versorgungsbezuege in Cents (ggf. 0) --\x3e\r\n\t        <INPUT name="JVBEZ" type="BigDecimal"/>\r\n\t\r\n\t\t\t\x3c!--Merker für die Vorsorgepauschale\r\n\t\t\t\t2 = der Arbeitnehmer ist NICHT in der gesetzlichen Rentenversicherung versichert.\r\n\t\t\t\t\r\n\t\t\t\t1 = der Arbeitnehmer ist in der gesetzlichen Rentenversicherung versichert, es gilt die \r\n\t\t\t\t\tBeitragsbemessungsgrenze OST.\r\n\t\t\t\t\t\r\n\t\t\t\t0 = der Arbeitnehmer ist in der gesetzlichen Rentenversicherung versichert, es gilt die \r\n\t\t\t\t\tBeitragsbemessungsgrenze WEST. --\x3e\r\n\t        <INPUT name="KRV" type="int"/>\r\n\t\r\n\t\t\t\x3c!-- Einkommensbezogener Zusatzbeitragssatz eines gesetzlich krankenversicherten Arbeitnehmers, \r\n\t\t\t auf dessen Basis der an die Krankenkasse zu zahlende Zusatzbeitrag berechnet wird,\r\n\t\t\t in Prozent (bspw. 0,90 für 0,90 %) mit 2 Dezimalstellen. \r\n\t\t\t Der von der Kranken-kasse festgesetzte Zusatzbeitragssatz ist bei Abweichungen unmaßgeblich. --\x3e\r\n\t\t\t<INPUT name="KVZ" type="BigDecimal"/>\r\n\t\r\n\t        \x3c!-- Lohnzahlungszeitraum:\r\n\t             1 = Jahr\r\n\t             2 = Monat\r\n\t             3 = Woche\r\n\t             4 = Tag --\x3e\r\n\t        <INPUT name="LZZ" type="int"/>\r\n\t\r\n\t        \x3c!-- In der Lohnsteuerkarte des Arbeitnehmers eingetragener Freibetrag für\r\n\t             den Lohnzahlungszeitraum in Cent --\x3e\r\n\t        <INPUT name="LZZFREIB" type="BigDecimal"/>\r\n\t\r\n\t        \x3c!-- In der Lohnsteuerkarte des Arbeitnehmers eingetragener Hinzurechnungsbetrag\r\n\t             für den Lohnzahlungszeitraum in Cent --\x3e\r\n\t        <INPUT name="LZZHINZU" type="BigDecimal"/>\r\n\t\r\n\t        \x3c!-- Dem Arbeitgeber mitgeteilte Zahlungen des Arbeitnehmers zur privaten\r\n\t             Kranken- bzw. Pflegeversicherung im Sinne des §10 Abs. 1 Nr. 3 EStG 2010\r\n\t             als Monatsbetrag in Cent (der Wert ist inabhängig vom Lohnzahlungszeitraum immer \r\n\t             als Monatsbetrag anzugeben).--\x3e\r\n\t        <INPUT name="PKPV" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t        \r\n\t        \x3c!-- Krankenversicherung:\r\n\t             0 = gesetzlich krankenversicherte Arbeitnehmer\r\n\t             1 = ausschließlich privat krankenversicherte Arbeitnehmer OHNE Arbeitgeberzuschuss\r\n\t             2 = ausschließlich privat krankenversicherte Arbeitnehmer MIT Arbeitgeberzuschuss --\x3e\r\n\t        <INPUT name="PKV" type="int" default="0"/>\r\n\t        \r\n\t        \x3c!-- 1, wenn bei der sozialen Pflegeversicherung die Besonderheiten in Sachsen zu berücksichtigen sind bzw. \r\n\t        \t \tzu berücksichtigen wären, sonst 0. --\x3e\r\n\t        <INPUT name="PVS" type="int" default="0"/>\r\n\t\r\n\t        \x3c!-- 1, wenn er der Arbeitnehmer den Zuschlag zur sozialen Pflegeversicherung \r\n\t        \t \tzu zahlen hat, sonst 0. --\x3e\r\n\t        <INPUT name="PVZ" type="int" default="0"/>\r\n\t        \r\n\t        \x3c!-- Religionsgemeinschaft des Arbeitnehmers lt. Lohnsteuerkarte (bei\r\n\t             keiner Religionszugehoerigkeit = 0) --\x3e\r\n\t        <INPUT name="R" type="int"/>\r\n\t\r\n\t        \x3c!-- Steuerpflichtiger Arbeitslohn vor Beruecksichtigung der Freibetraege\r\n\t             fuer Versorgungsbezuege, des Altersentlastungsbetrags und des auf\r\n\t             der Lohnsteuerkarte fuer den Lohnzahlungszeitraum eingetragenen\r\n\t             Freibetrags in Cents. --\x3e\r\n\t        <INPUT name="RE4" type="BigDecimal"/>\r\n\t\r\n\t        \x3c!-- Sonstige Bezuege (ohne Verguetung aus mehrjaehriger Taetigkeit) einschliesslich\r\n\t             Sterbegeld bei Versorgungsbezuegen sowie Kapitalauszahlungen/Abfindungen,\r\n\t             soweit es sich nicht um Bezuege fuer mehrere Jahre handelt in Cents (ggf. 0) --\x3e\r\n\t        <INPUT name="SONSTB" type="BigDecimal"/>\r\n\t\r\n\t        \x3c!-- Sterbegeld bei Versorgungsbezuegen sowie Kapitalauszahlungen/Abfindungen,\r\n\t             soweit es sich nicht um Bezuege fuer mehrere Jahre handelt\r\n\t             (in SONSTB enthalten) in Cents --\x3e\r\n\t        <INPUT name="STERBE" type="BigDecimal" regex_test="" regex_transform=""/>\r\n\t\r\n\t        \x3c!-- Steuerklasse:\r\n\t             1 = I\r\n\t             2 = II\r\n\t             3 = III\r\n\t             4 = IV\r\n\t             5 = V\r\n\t             6 = VI --\x3e\r\n\t        <INPUT name="STKL" type="int"/>\r\n\t\r\n\t        \x3c!-- In RE4 enthaltene Versorgungsbezuege in Cents (ggf. 0) --\x3e\r\n\t        <INPUT name="VBEZ" type="BigDecimal"/>\r\n\t\r\n\t        \x3c!-- Vorsorgungsbezug im Januar 2005 bzw. fuer den ersten vollen Monat\r\n\t             in Cents--\x3e\r\n\t        <INPUT name="VBEZM" type="BigDecimal"/>\r\n\t\r\n\t        \x3c!-- Voraussichtliche Sonderzahlungen im Kalenderjahr des Versorgungsbeginns\r\n\t             bei Versorgungsempfaengern ohne Sterbegeld, Kapitalauszahlungen/Abfindungen\r\n\t             bei Versorgungsbezuegen in Cents--\x3e\r\n\t        <INPUT name="VBEZS" type="BigDecimal"/>\r\n\t\r\n\t        \x3c!-- In SONSTB enthaltene Versorgungsbezuege einschliesslich Sterbegeld\r\n\t            in Cents (ggf. 0) --\x3e\r\n\t        <INPUT name="VBS" type="BigDecimal"/>\r\n\t\r\n\t        \x3c!-- Jahr, in dem der Versorgungsbezug erstmalig gewaehrt wurde; werden\r\n\t             mehrere Versorgungsbezuege gezahlt, so gilt der aelteste erstmalige Bezug --\x3e\r\n\t        <INPUT name="VJAHR" type="int" regex_test="" regex_transform=""/>\r\n\t\r\n\t        \x3c!-- Kapitalauszahlungen / Abfindungen / Nachzahlungen bei Versorgungsbezügen \r\n\t             für mehrere Jahre in Cent (ggf. 0) --\x3e     \r\n\t        <INPUT name="VKAPA" type="BigDecimal" regex_test="" regex_transform=""/>\r\n\t \r\n\t\t\t\x3c!-- Vergütung für mehrjährige Tätigkeit ohne Kapitalauszahlungen und ohne Abfindungen \r\n\t\t\t\t bei Versorgungsbezügen in Cent (ggf. 0) --\x3e\r\n\t        <INPUT name="VMT" type="BigDecimal" regex_test="" regex_transform=""/>\r\n\t\r\n\t        \x3c!-- Zahl der Freibetraege fuer Kinder (eine Dezimalstelle, nur bei Steuerklassen\r\n\t             I, II, III und IV) --\x3e\r\n\t        <INPUT name="ZKF" type="BigDecimal" regex_test="" regex_transform=""/>\r\n\t\r\n\t        \x3c!-- Zahl der Monate, fuer die Versorgungsbezuege gezahlt werden (nur\r\n\t             erforderlich bei Jahresberechnung (LZZ = 1) --\x3e\r\n\t        <INPUT name="ZMVB" type="int" regex_test="" regex_transform=""/>\r\n\t        \r\n\t        \x3c!-- In JRE4 enthaltene Entschädigungen nach § 24 Nummer 1 EStG in Cent --\x3e\r\n\t    \t<INPUT name="JRE4ENT" type="BigDecimal" default="BigDecimal.ZERO"/>\r\n\t    \t\r\n\t    \t\x3c!-- In SONSTB enthaltene Entschädigungen nach § 24 Nummer 1 EStG in Cent --\x3e\r\n\t    \t<INPUT name="SONSTENT" type="BigDecimal" default="BigDecimal.ZERO"/>\r\n    \t</INPUTS>\r\n\r\n    \t\x3c!--  AUSGABEPARAMETER  --\x3e\r\n\t\t<OUTPUTS type="STANDARD">\r\n\t        \x3c!-- Bemessungsgrundlage fuer die Kirchenlohnsteuer in Cents --\x3e\r\n\t        <OUTPUT name="BK" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\r\n\t        \x3c!-- Bemessungsgrundlage der sonstigen Einkuenfte (ohne Verguetung\r\n\t             fuer mehrjaehrige Taetigkeit) fuer die Kirchenlohnsteuer in Cents --\x3e\r\n\t        <OUTPUT name="BKS" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\r\n\t        <OUTPUT name="BKV" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\r\n\t        \x3c!-- Fuer den Lohnzahlungszeitraum einzubehaltende Lohnsteuer in Cents --\x3e\r\n\t        <OUTPUT name="LSTLZZ" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\r\n\t        \x3c!-- Fuer den Lohnzahlungszeitraum einzubehaltender Solidaritaetszuschlag\r\n\t             in Cents --\x3e\r\n\t        <OUTPUT name="SOLZLZZ" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\r\n\t        \x3c!-- Solidaritaetszuschlag fuer sonstige Bezuege (ohne Verguetung fuer mehrjaehrige\r\n\t             Taetigkeit) in Cents --\x3e\r\n\t        <OUTPUT name="SOLZS" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\r\n\t        \x3c!-- Solidaritaetszuschlag fuer die Verguetung fuer mehrjaehrige Taetigkeit in\r\n\t             Cents --\x3e\r\n\t        <OUTPUT name="SOLZV" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\r\n\t        \x3c!-- Lohnsteuer fuer sonstige Einkuenfte (ohne Verguetung fuer mehrjaehrige\r\n\t             Taetigkeit) in Cents --\x3e\r\n\t        <OUTPUT name="STS" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\r\n\t        \x3c!-- Lohnsteuer fuer Verguetung fuer mehrjaehrige Taetigkeit in Cents --\x3e\r\n\t        <OUTPUT name="STV" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t        \r\n\t        \x3c!-- Für den Lohnzahlungszeitraum berücksichtigte Beiträge des Arbeitnehmers zur\r\n\t\t\t\t privaten Basis-Krankenversicherung und privaten Pflege-Pflichtversicherung (ggf. auch\r\n\t\t\t\t die Mindestvorsorgepauschale) in Cent beim laufenden Arbeitslohn. Für Zwecke der Lohn-\r\n\t\t\t\t steuerbescheinigung sind die einzelnen Ausgabewerte außerhalb des eigentlichen Lohn-\r\n\t\t\t\t steuerbescheinigungsprogramms zu addieren; hinzuzurechnen sind auch die Ausgabewerte\r\n\t\t\t\t VKVSONST --\x3e\r\n\t\t\t<OUTPUT name="VKVLZZ" type="BigDecimal" default="new BigDecimal(0)"/> \r\n\t\t\t\r\n\t\t\t\x3c!-- Für den Lohnzahlungszeitraum berücksichtigte Beiträge des Arbeitnehmers \r\n\t\t\t\t zur privaten Basis-Krankenversicherung und privaten Pflege-Pflichtversicherung (ggf. \r\n\t\t\t\t auch die Mindestvorsorgepauschale) in Cent bei sonstigen Bezügen. Der Ausgabewert kann\r\n\t\t\t\t auch negativ sein. Für tarifermäßigt zu besteuernde Vergütungen für mehrjährige \r\n\t\t\t\t Tätigkeiten enthält der PAP keinen entsprechenden Ausgabewert. --\x3e\r\n\t\t\t<OUTPUT name="VKVSONST" type="BigDecimal" default="new BigDecimal(0)"/> \r\n\t\t\r\n\t\t</OUTPUTS>\r\n\t\t\r\n\t\t\x3c!--  AUSGABEPARAMETER DBA  --\x3e\r\n\t\t<OUTPUTS type="DBA">\r\n\t\t\r\n\t\t\t\x3c!-- Verbrauchter Freibetrag bei Berechnung des laufenden Arbeitslohns, in Cent --\x3e\r\n\t\t\t<OUTPUT name="VFRB" type="BigDecimal" default="new BigDecimal(0)"/> \r\n\t\t\t\r\n\t\t\t\x3c!-- Verbrauchter Freibetrag bei Berechnung des voraussichtlichen Jahresarbeitslohns, in Cent --\x3e\r\n\t\t\t<OUTPUT name="VFRBS1" type="BigDecimal" default="new BigDecimal(0)"/> \r\n\t\t\t\r\n\t\t\t\x3c!-- Verbrauchter Freibetrag bei Berechnung der sonstigen Bezüge, in Cent --\x3e\r\n\t\t\t<OUTPUT name="VFRBS2" type="BigDecimal" default="new BigDecimal(0)"/> \r\n\t\t\t\r\n\t\t\t\x3c!-- Für die weitergehende Berücksichtigung des Steuerfreibetrags nach dem DBA Türkei verfügbares ZVE über \r\n\t\t\t\tdem Grundfreibetrag bei der Berechnung des laufenden Arbeitslohns, in Cent --\x3e\r\n\t\t\t<OUTPUT name="WVFRB" type="BigDecimal" default="new BigDecimal(0)"/> \r\n\t\t\t\r\n\t\t\t\x3c!-- Für die weitergehende Berücksichtigung des Steuerfreibetrags nach dem DBA Türkei verfügbares ZVE über dem Grundfreibetrag \r\n\t\t\t\tbei der Berechnung des voraussichtlichen Jahresarbeitslohns, in Cent --\x3e\r\n\t\t\t<OUTPUT name="WVFRBO" type="BigDecimal" default="new BigDecimal(0)"/> \r\n\t\t\t\r\n\t\t\t\x3c!-- Für die weitergehende Berücksichtigung des Steuerfreibetrags nach dem DBA Türkei verfügbares ZVE \r\n\t\t\t\tüber dem Grundfreibetrag bei der Berechnung der sonstigen Bezüge, in Cent --\x3e\r\n\t\t\t<OUTPUT name="WVFRBM" type="BigDecimal" default="new BigDecimal(0)"/> \r\n\t\t</OUTPUTS>\r\n\r\n\t    \x3c!--  INTERNE FELDER  --\x3e\r\n\t\t<INTERNALS>\r\n\t\t        \x3c!-- Altersentlastungsbetrag nach Alterseinkünftegesetz in €,\r\n\t\t             Cent (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="ALTE" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Arbeitnehmer-Pauschbetrag in EURO --\x3e\r\n\t\t        <INTERNAL name="ANP" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Auf den Lohnzahlungszeitraum entfallender Anteil von Jahreswerten\r\n\t\t             auf ganze Cents abgerundet --\x3e\r\n\t\t        <INTERNAL name="ANTEIL1" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Bemessungsgrundlage für Altersentlastungsbetrag in €, Cent\r\n\t\t             (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="BMG" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        \r\n\t\t        \x3c!-- Beitragsbemessungsgrenze in der gesetzlichen Krankenversicherung \r\n\t\t        \tund der sozialen Pflegeversicherung in Euro --\x3e\r\n\t\t        <INTERNAL name="BBGKVPV" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        \x3c!--  Nach Programmablaufplan 2019 --\x3e\r\n\t\t        <INTERNAL name="bd" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        \x3c!-- allgemeine Beitragsbemessungsgrenze in der allgemeinen Renten-versicherung in Euro --\x3e\r\n\t\t        <INTERNAL name="BBGRV" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Differenz zwischen ST1 und ST2 in EURO --\x3e\r\n\t\t        <INTERNAL name="DIFF" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Entlastungsbetrag fuer Alleinerziehende in EURO --\x3e\r\n\t\t        <INTERNAL name="EFA" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Versorgungsfreibetrag in €, Cent (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="FVB" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Versorgungsfreibetrag in €, Cent (2 Dezimalstellen) für die Berechnung\r\n\t\t             der Lohnsteuer für den sonstigen Bezug --\x3e\r\n\t\t\t    <INTERNAL name="FVBSO" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Zuschlag zum Versorgungsfreibetrag in EURO --\x3e\r\n\t\t        <INTERNAL name="FVBZ" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Zuschlag zum Versorgungsfreibetrag in EURO fuer die Berechnung\r\n\t\t             der Lohnsteuer beim sonstigen Bezug --\x3e\r\n\t\t\t    <INTERNAL name="FVBZSO" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t \r\n\t\t     \t\x3c!-- Grundfreibetrag in Euro --\x3e\r\n\t\t        <INTERNAL name="GFB" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t \r\n\t\t        \x3c!-- Maximaler Altersentlastungsbetrag in € --\x3e\r\n\t\t        <INTERNAL name="HBALTE" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Massgeblicher maximaler Versorgungsfreibetrag in € --\x3e\r\n\t\t        <INTERNAL name="HFVB" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Massgeblicher maximaler Zuschlag zum Versorgungsfreibetrag in €,Cent\r\n\t\t             (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="HFVBZ" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Massgeblicher maximaler Zuschlag zum Versorgungsfreibetrag in €, Cent\r\n\t\t             (2 Dezimalstellen) für die Berechnung der Lohnsteuer für den\r\n\t\t             sonstigen Bezug --\x3e\r\n\t\t        <INTERNAL name="HFVBZSO" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\t\t\r\n\t\t         \x3c!-- Nummer der Tabellenwerte fuer Versorgungsparameter --\x3e\r\n\t\t        <INTERNAL name="J" type="int" default="0"/>\r\n\t\t\r\n\t\t        \x3c!-- Jahressteuer nach § 51a EStG, aus der Solidaritaetszuschlag und\r\n\t\t             Bemessungsgrundlage fuer die Kirchenlohnsteuer ermittelt werden in EURO --\x3e\r\n\t\t        <INTERNAL name="JBMG" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Auf einen Jahreslohn hochgerechneter LZZFREIB in €, Cent\r\n\t\t             (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="JLFREIB" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Auf einen Jahreslohn hochgerechnete LZZHINZU in €, Cent\r\n\t\t             (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="JLHINZU" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Jahreswert, dessen Anteil fuer einen Lohnzahlungszeitraum in\r\n\t\t             UPANTEIL errechnet werden soll in Cents --\x3e\r\n\t\t        <INTERNAL name="JW" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        \r\n\t\t        \x3c!-- Nummer der Tabellenwerte fuer Parameter bei Altersentlastungsbetrag --\x3e\r\n\t\t        <INTERNAL name="K" type="int" default="0"/>\r\n\t\t\r\n\t\t        \x3c!-- Merker für Berechnung Lohnsteuer für mehrjährige Tätigkeit.\r\n\t\t\t\t\t 0 = normale Steuerberechnung\r\n\t\t\t\t\t 1 = Steuerberechnung für mehrjährige Tätigkeit\r\n\t\t\t\t\t 2 = entfällt --\x3e     \r\n\t\t        <INTERNAL name="KENNVMT" type="int" default="0"/>\r\n\t\t \r\n\t\t        \x3c!-- Summe der Freibetraege fuer Kinder in EURO --\x3e\r\n\t\t        <INTERNAL name="KFB" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Beitragssatz des Arbeitgebers zur Krankenversicherung --\x3e\r\n\t\t        <INTERNAL name="KVSATZAG" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Beitragssatz des Arbeitnehmers zur Krankenversicherung --\x3e\r\n\t\t        <INTERNAL name="KVSATZAN" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t       \x3c!-- Kennzahl fuer die Einkommensteuer-Tabellenart:\r\n\t\t             1 = Grundtabelle\r\n\t\t             2 = Splittingtabelle --\x3e\r\n\t\t        <INTERNAL name="KZTAB" type="int" default="0"/>\r\n\t\t\r\n\t\t        \x3c!-- Jahreslohnsteuer in EURO --\x3e\r\n\t\t        <INTERNAL name="LSTJAHR" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Zwischenfelder der Jahreslohnsteuer in Cent --\x3e\r\n\t\t        <INTERNAL name="LST1" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        <INTERNAL name="LST2" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        <INTERNAL name="LST3" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        <INTERNAL name="LSTOSO" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        <INTERNAL name="LSTSO" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Mindeststeuer fuer die Steuerklassen V und VI in EURO --\x3e\r\n\t\t        <INTERNAL name="MIST" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Beitragssatz des Arbeitgebers zur Pflegeversicherung --\x3e\r\n\t\t        <INTERNAL name="PVSATZAG" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Beitragssatz des Arbeitnehmers zur Pflegeversicherung --\x3e\r\n\t\t        <INTERNAL name="PVSATZAN" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t\t\t\x3c!-- Beitragssatz des Arbeitnehmers in der allgemeinen gesetzlichen Rentenversicherung (4 Dezimalstellen)  --\x3e\r\n\t\t\t    <INTERNAL name="RVSATZAN" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Rechenwert in Gleitkommadarstellung --\x3e\r\n\t\t        <INTERNAL name="RW" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Sonderausgaben-Pauschbetrag in EURO --\x3e\r\n\t\t        <INTERNAL name="SAP" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Freigrenze fuer den Solidaritaetszuschlag in EURO --\x3e\r\n\t\t        <INTERNAL name="SOLZFREI" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Solidaritaetszuschlag auf die Jahreslohnsteuer in EURO, C (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="SOLZJ" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Zwischenwert fuer den Solidaritaetszuschlag auf die Jahreslohnsteuer\r\n\t\t             in EURO, C (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="SOLZMIN" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\r\n\t\t        \x3c!-- Neu ab 2021: Bemessungsgrundlage des Solidaritätszuschlags zur Prüfung der Freigrenze beim Solidaritätszuschlag für sonstige Bezüge (ohne Vergütung für mehrjährige Tätigkeit) in Euro --\x3e\r\n\t\t        <INTERNAL name="SOLZSBMG" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\r\n\t\t        \x3c!-- Neu ab 2021: Zu versteuerndes Einkommen für die Ermittlung der Bemessungsgrundlage des Solidaritätszuschlags zur Prüfung der Freigrenze beim Solidaritätszuschlag für sonstige Bezüge (ohne Vergütung für mehrjährige Tätigkeit) in Euro, Cent (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="SOLZSZVE" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\r\n\t\t        \x3c!-- Neu ab 2021: Bemessungsgrundlage des Solidaritätszuschlags für die Prüfung der Freigrenze beim Solidaritätszuschlag für die Vergütung für mehrjährige Tätigkeit in Euro --\x3e\r\n\t\t        <INTERNAL name="SOLZVBMG" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Tarifliche Einkommensteuer in EURO --\x3e\r\n\t\t        <INTERNAL name="ST" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Tarifliche Einkommensteuer auf das 1,25-fache ZX in EURO --\x3e\r\n\t\t        <INTERNAL name="ST1" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Tarifliche Einkommensteuer auf das 0,75-fache ZX in EURO --\x3e\r\n\t\t        <INTERNAL name="ST2" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t \r\n\t\t\t\t\x3c!-- Zwischenfeld zur Ermittlung der Steuer auf Vergütungen für mehrjährige Tätigkeit --\x3e\r\n\t\t        <INTERNAL name="STOVMT" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        \r\n\t\t        \x3c!-- Teilbetragssatz der Vorsorgepauschale für die Rentenversicherung (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="TBSVORV" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t \r\n\t\t        \x3c!-- Bemessungsgrundlage fuer den Versorgungsfreibetrag in Cents --\x3e\r\n\t\t        <INTERNAL name="VBEZB" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Bemessungsgrundlage für den Versorgungsfreibetrag in Cent für\r\n\t\t             den sonstigen Bezug --\x3e\r\n\t\t        <INTERNAL name="VBEZBSO" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Hoechstbetrag der Vorsorgepauschale nach Alterseinkuenftegesetz in EURO, C --\x3e\r\n\t\t        <INTERNAL name="VHB" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Vorsorgepauschale in EURO, C (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="VSP" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Vorsorgepauschale nach Alterseinkuenftegesetz in EURO, C --\x3e\r\n\t\t        <INTERNAL name="VSPN" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Zwischenwert 1 bei der Berechnung der Vorsorgepauschale nach\r\n\t\t             dem Alterseinkuenftegesetz in EURO, C (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="VSP1" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Zwischenwert 2 bei der Berechnung der Vorsorgepauschale nach\r\n\t\t             dem Alterseinkuenftegesetz in EURO, C (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="VSP2" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\t\t\r\n\t\t\t\t\x3c!-- Vorsorgepauschale mit Teilbeträgen für die gesetzliche Kranken- und \r\n\t\t\t\t\t soziale Pflegeversicherung nach fiktiven Beträgen oder ggf. für die\r\n\t\t\t\t\t private Basiskrankenversicherung und private Pflege-Pflichtversicherung \r\n\t\t\t\t\t in Euro, Cent (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="VSP3" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        \r\n\t\t        \x3c!-- Erster Grenzwert in Steuerklasse V/VI in Euro --\x3e\r\n\t\t        <INTERNAL name="W1STKL5" type="BigDecimal" default="new BigDecimal(0)"/> \r\n\t\t        \r\n\t\t        \x3c!-- Zweiter Grenzwert in Steuerklasse V/VI in Euro --\x3e\r\n\t\t        <INTERNAL name="W2STKL5" type="BigDecimal" default="new BigDecimal(0)"/> \r\n\t\t        \r\n\t\t        \x3c!-- Dritter Grenzwert in Steuerklasse V/VI in Euro --\x3e\r\n\t\t        <INTERNAL name="W3STKL5" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Hoechstbetrag der Vorsorgepauschale nach § 10c Abs. 2 Nr. 2 EStG in EURO --\x3e\r\n\t\t        <INTERNAL name="VSPMAX1" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Hoechstbetrag der Vorsorgepauschale nach § 10c Abs. 2 Nr. 3 EStG in EURO --\x3e\r\n\t\t        <INTERNAL name="VSPMAX2" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Vorsorgepauschale nach § 10c Abs. 2 Satz 2 EStG vor der Hoechstbetragsberechnung\r\n\t\t             in EURO, C (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="VSPO" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Fuer den Abzug nach § 10c Abs. 2 Nrn. 2 und 3 EStG verbleibender\r\n\t\t             Rest von VSPO in EURO, C (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="VSPREST" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Hoechstbetrag der Vorsorgepauschale nach § 10c Abs. 2 Nr. 1 EStG\r\n\t\t             in EURO, C (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="VSPVOR" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Zu versteuerndes Einkommen gem. § 32a Abs. 1 und 2 EStG €, C\r\n\t\t             (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="X" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- gem. § 32a Abs. 1 EStG (6 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="Y" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Auf einen Jahreslohn hochgerechnetes RE4 in €, C (2 Dezimalstellen)\r\n\t\t             nach Abzug der Freibeträge nach § 39 b Abs. 2 Satz 3 und 4. --\x3e\r\n\t\t        <INTERNAL name="ZRE4" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Auf einen Jahreslohn hochgerechnetes RE4 in €, C (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="ZRE4J" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Auf einen Jahreslohn hochgerechnetes RE4 in €, C (2 Dezimalstellen)\r\n\t\t             nach Abzug des Versorgungsfreibetrags und des Alterentlastungsbetrags\r\n\t\t             zur Berechnung der Vorsorgepauschale in €, Cent (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="ZRE4VP" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Feste Tabellenfreibeträge (ohne Vorsorgepauschale) in €, Cent\r\n\t\t             (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="ZTABFB" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Auf einen Jahreslohn hochgerechnetes (VBEZ abzueglich FVB) in\r\n\t\t             EURO, C (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="ZVBEZ" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Auf einen Jahreslohn hochgerechnetes VBEZ in €, C (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="ZVBEZJ" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\r\n\t\t        \x3c!-- Zu versteuerndes Einkommen in €, C (2 Dezimalstellen) --\x3e\r\n\t\t        <INTERNAL name="ZVE" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        \r\n\t\t        \x3c!-- Zwischenfelder zu X fuer die Berechnung der Steuer nach § 39b\r\n\t\t             Abs. 2 Satz 7 EStG in € --\x3e\r\n\t\t        <INTERNAL name="ZX" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        <INTERNAL name="ZZX" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        <INTERNAL name="HOCH" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t        <INTERNAL name="VERGL" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\t\t\r\n\t\t\t\t \x3c!-- Jahreswert der berücksichtigten Beiträge zur privaten Basis-Krankenversicherung und \r\n\t\t\t\t\t  privaten Pflege-Pflichtversicherung (ggf. auch die Mindestvorsorgepauschale) in Cent. --\x3e\r\n\t\t        <INTERNAL name="VKV" type="BigDecimal" default="new BigDecimal(0)"/>\r\n\t\t\t</INTERNALS>\r\n    </VARIABLES>\r\n\r\n    <CONSTANTS>\r\n        \x3c!-- Tabelle fuer die Vomhundertsaetze des Versorgungsfreibetrags --\x3e\r\n        <CONSTANT name="TAB1" type="BigDecimal[]" \r\n        \tvalue="{BigDecimal.valueOf (0.0), BigDecimal.valueOf (0.4), BigDecimal.valueOf (0.384), BigDecimal.valueOf (0.368),\r\n        \t        BigDecimal.valueOf (0.352), BigDecimal.valueOf (0.336), BigDecimal.valueOf (0.32), BigDecimal.valueOf (0.304),\r\n        \t        BigDecimal.valueOf (0.288), BigDecimal.valueOf (0.272), BigDecimal.valueOf (0.256), BigDecimal.valueOf (0.24), \r\n        \t        BigDecimal.valueOf (0.224), BigDecimal.valueOf (0.208), BigDecimal.valueOf (0.192), BigDecimal.valueOf (0.176),\r\n        \t        BigDecimal.valueOf (0.16), BigDecimal.valueOf (0.152),  BigDecimal.valueOf (0.144), BigDecimal.valueOf (0.136),\r\n        \t        BigDecimal.valueOf (0.128), BigDecimal.valueOf (0.12),  BigDecimal.valueOf (0.112), BigDecimal.valueOf (0.104),\r\n        \t        BigDecimal.valueOf (0.096), BigDecimal.valueOf (0.088), BigDecimal.valueOf (0.08), BigDecimal.valueOf (0.072),\r\n        \t        BigDecimal.valueOf (0.064), BigDecimal.valueOf (0.056), BigDecimal.valueOf (0.048), BigDecimal.valueOf (0.04),\r\n        \t        BigDecimal.valueOf (0.032), BigDecimal.valueOf (0.024), BigDecimal.valueOf (0.016), BigDecimal.valueOf (0.008),\r\n        \t        BigDecimal.valueOf (0.0)}"/>\r\n\r\n        \x3c!-- Tabelle fuer die Hoechstbetrage des Versorgungsfreibetrags --\x3e\r\n        <CONSTANT name="TAB2" type="BigDecimal[]" value="{BigDecimal.valueOf (0), BigDecimal.valueOf (3000), BigDecimal.valueOf (2880),\r\n        \t\t\tBigDecimal.valueOf (2760), BigDecimal.valueOf (2640), BigDecimal.valueOf (2520), BigDecimal.valueOf (2400), \r\n        \t\t\tBigDecimal.valueOf (2280), BigDecimal.valueOf (2160), BigDecimal.valueOf (2040), BigDecimal.valueOf (1920), \r\n        \t\t\tBigDecimal.valueOf (1800), BigDecimal.valueOf (1680), BigDecimal.valueOf (1560), BigDecimal.valueOf (1440), \r\n        \t\t\tBigDecimal.valueOf (1320), BigDecimal.valueOf (1200), BigDecimal.valueOf (1140), BigDecimal.valueOf (1080), \r\n        \t\t\tBigDecimal.valueOf (1020), BigDecimal.valueOf (960), BigDecimal.valueOf (900), BigDecimal.valueOf (840), \r\n        \t\t\tBigDecimal.valueOf (780),  BigDecimal.valueOf (720), BigDecimal.valueOf (660), BigDecimal.valueOf (600), \r\n        \t\t\tBigDecimal.valueOf (540),  BigDecimal.valueOf (480), BigDecimal.valueOf (420), BigDecimal.valueOf (360), \r\n        \t\t\tBigDecimal.valueOf (300),  BigDecimal.valueOf (240), BigDecimal.valueOf (180), BigDecimal.valueOf (120), \r\n        \t\t\tBigDecimal.valueOf (60),   BigDecimal.valueOf (0)}"/>\r\n\r\n        \x3c!-- Tabelle fuer die Zuschlaege zum Versorgungsfreibetrag --\x3e\r\n        <CONSTANT name="TAB3" type="BigDecimal[]" value="{BigDecimal.valueOf (0), BigDecimal.valueOf (900), BigDecimal.valueOf (864), \r\n        \tBigDecimal.valueOf (828), BigDecimal.valueOf (792), BigDecimal.valueOf (756), BigDecimal.valueOf (720), \r\n        \tBigDecimal.valueOf (684), BigDecimal.valueOf (648), BigDecimal.valueOf (612), BigDecimal.valueOf (576), \r\n        \tBigDecimal.valueOf (540), BigDecimal.valueOf (504), BigDecimal.valueOf (468), BigDecimal.valueOf (432), \r\n        \tBigDecimal.valueOf (396), BigDecimal.valueOf (360), BigDecimal.valueOf (342), BigDecimal.valueOf (324), \r\n        \tBigDecimal.valueOf (306), BigDecimal.valueOf (288), BigDecimal.valueOf (270), BigDecimal.valueOf (252), \r\n        \tBigDecimal.valueOf (234), BigDecimal.valueOf (216), BigDecimal.valueOf (198), BigDecimal.valueOf (180), \r\n        \tBigDecimal.valueOf (162), BigDecimal.valueOf (144), BigDecimal.valueOf (126), BigDecimal.valueOf (108), \r\n        \tBigDecimal.valueOf (90),  BigDecimal.valueOf (72), BigDecimal.valueOf (54), BigDecimal.valueOf (36), \r\n        \tBigDecimal.valueOf (18),  BigDecimal.valueOf (0)}"/>\r\n\r\n        \x3c!-- Tabelle fuer die Vomhundertsaetze des Altersentlastungsbetrags --\x3e\r\n        <CONSTANT name="TAB4" type="BigDecimal[]" value="{BigDecimal.valueOf (0.0), BigDecimal.valueOf (0.4), BigDecimal.valueOf (0.384),\r\n        \t BigDecimal.valueOf (0.368), BigDecimal.valueOf (0.352), BigDecimal.valueOf (0.336), BigDecimal.valueOf (0.32), \r\n        \t BigDecimal.valueOf (0.304), BigDecimal.valueOf (0.288), BigDecimal.valueOf (0.272), BigDecimal.valueOf (0.256), \r\n        \t BigDecimal.valueOf (0.24),  BigDecimal.valueOf (0.224), BigDecimal.valueOf (0.208), BigDecimal.valueOf (0.192), \r\n        \t BigDecimal.valueOf (0.176), BigDecimal.valueOf (0.16), BigDecimal.valueOf (0.152),  BigDecimal.valueOf (0.144), \r\n        \t BigDecimal.valueOf (0.136), BigDecimal.valueOf (0.128), BigDecimal.valueOf (0.12),  BigDecimal.valueOf (0.112), \r\n        \t BigDecimal.valueOf (0.104), BigDecimal.valueOf (0.096), BigDecimal.valueOf (0.088), BigDecimal.valueOf (0.08), \r\n        \t BigDecimal.valueOf (0.072), BigDecimal.valueOf (0.064), BigDecimal.valueOf (0.056), BigDecimal.valueOf (0.048), \r\n        \t BigDecimal.valueOf (0.04),  BigDecimal.valueOf (0.032), BigDecimal.valueOf (0.024), BigDecimal.valueOf (0.016), \r\n        \t BigDecimal.valueOf (0.008), BigDecimal.valueOf (0.0)}"/>\r\n\r\n        \x3c!-- Tabelle fuer die Hoechstbetraege des Altersentlastungsbetrags --\x3e\r\n        <CONSTANT name="TAB5" type="BigDecimal[]" value="{BigDecimal.valueOf (0), BigDecimal.valueOf (1900), BigDecimal.valueOf (1824), \r\n        \tBigDecimal.valueOf (1748), BigDecimal.valueOf (1672), BigDecimal.valueOf (1596), BigDecimal.valueOf (1520), \r\n        \tBigDecimal.valueOf (1444), BigDecimal.valueOf (1368), BigDecimal.valueOf (1292), BigDecimal.valueOf (1216), \r\n        \tBigDecimal.valueOf (1140), BigDecimal.valueOf (1064), BigDecimal.valueOf (988),  BigDecimal.valueOf (912), \r\n        \tBigDecimal.valueOf (836),  BigDecimal.valueOf (760), BigDecimal.valueOf (722), BigDecimal.valueOf (684), \r\n        \tBigDecimal.valueOf (646),  BigDecimal.valueOf (608), BigDecimal.valueOf (570), BigDecimal.valueOf (532), \r\n        \tBigDecimal.valueOf (494),  BigDecimal.valueOf (456), BigDecimal.valueOf (418), BigDecimal.valueOf (380), \r\n        \tBigDecimal.valueOf (342),  BigDecimal.valueOf (304), BigDecimal.valueOf (266), BigDecimal.valueOf (228), \r\n        \tBigDecimal.valueOf (190),  BigDecimal.valueOf (152), BigDecimal.valueOf (114), BigDecimal.valueOf (76), \r\n        \tBigDecimal.valueOf (38),   BigDecimal.valueOf (0)}"/>\r\n \r\n        \x3c!-- Zahlenkonstanten fuer im Plan oft genutzte BigDecimal Werte --\x3e\r\n        <CONSTANT name="ZAHL1" \t\ttype="BigDecimal" value="BigDecimal.ONE"/>\r\n        <CONSTANT name="ZAHL2" \t\ttype="BigDecimal" value="new BigDecimal(2)"/>\r\n        <CONSTANT name="ZAHL5" \t\ttype="BigDecimal" value="new BigDecimal(5)"/>\r\n        <CONSTANT name="ZAHL7" \t\ttype="BigDecimal" value="new BigDecimal(7)"/>\r\n        <CONSTANT name="ZAHL12" \ttype="BigDecimal" value="new BigDecimal(12)"/>\r\n        <CONSTANT name="ZAHL100" \ttype="BigDecimal" value="new BigDecimal(100)"/>\r\n        <CONSTANT name="ZAHL360" \ttype="BigDecimal" value="new BigDecimal(360)"/>\r\n        <CONSTANT name="ZAHL500" \ttype="BigDecimal" value="new BigDecimal(500)"/>\r\n        <CONSTANT name="ZAHL700" \ttype="BigDecimal" value="new BigDecimal(700)"/>\r\n        <CONSTANT name="ZAHL1000" \ttype="BigDecimal" value="new BigDecimal(1000)"/>\r\n        <CONSTANT name="ZAHL10000" \ttype="BigDecimal" value="new BigDecimal(10000)"/>\r\n\r\n    </CONSTANTS>\r\n\r\n    <METHODS>\r\n\r\n\r\n\r\n  \x3c!-- PROGRAMMABLAUFPLAN, PAP Seite 14 --\x3e\r\n  <MAIN>\r\n  \t<EXECUTE method="MPARA"/> \r\n    <EXECUTE method="MRE4JL"/>\r\n    <EVAL exec="VBEZBSO= BigDecimal.ZERO"/>\r\n    <EVAL exec="KENNVMT= 0"/>\r\n    \r\n    \r\n    <EXECUTE method="MRE4"/>\r\n    <EXECUTE method="MRE4ABZ"/>\r\n    <EXECUTE method="MBERECH"/>\r\n\r\n    \r\n    <EXECUTE method="MSONST"/>\r\n    <EXECUTE method="MVMT"/>\r\n  </MAIN>\r\n\r\n  \x3c!-- Zuweisung von Werten für bestimmte Sozialversicherungsparameter  PAP Seite 15 --\x3e\r\n  <METHOD name="MPARA">\r\n  \t <IF expr="KRV &lt; 2">\x3c!-- &lt; = < --\x3e\r\n      \t<THEN>\r\n\t        <IF expr="KRV == 0">\r\n\t      \t\t<THEN>\r\n\t      \t\t\t<EVAL exec="BBGRV = new BigDecimal(85200)"/>  \x3c!-- Geändert für 2021 --\x3e\r\n\t      \t\t</THEN>\r\n\t      \t\t<ELSE>\r\n\t        \t\t<EVAL exec="BBGRV = new BigDecimal(80400)"/>  \x3c!-- Geändert für 2021 --\x3e\r\n\t      \t\t</ELSE>\r\n      \t\t</IF>\r\n      \t\t<EVAL exec="RVSATZAN = BigDecimal.valueOf(0.093)"/> \x3c!-- Neu 2019 --\x3e\r\n      \t\t<EVAL exec="TBSVORV = BigDecimal.valueOf(0.84)"/>  \x3c!-- Geändert für 2021--\x3e\r\n      \t</THEN>\r\n      \t<ELSE>\r\n        \t\x3c!-- Nichts zu tun --\x3e\r\n     \t</ELSE>\r\n     </IF>\r\n       \r\n        <EVAL exec="BBGKVPV = new BigDecimal(58050)"/> \x3c!-- Geändert für 2021 --\x3e\r\n       \t<EVAL exec="bd = new BigDecimal(2)"/>\x3c!-- Neu 2019 --\x3e\r\n      \t<EVAL exec="KVSATZAN = (KVZ.divide(bd).divide(ZAHL100)).add(BigDecimal.valueOf(0.07))"/>\x3c!-- Neu 2019 --\x3e\r\n      \t<EVAL exec="KVSATZAG = BigDecimal.valueOf(0.0065+0.07)"/> \x3c!-- Geändert für 2021 --\x3e\r\n      \t\r\n      \t<IF expr="PVS == 1">\r\n      \t\t<THEN>\r\n      \t\t\t<EVAL exec="PVSATZAN = BigDecimal.valueOf(0.02025)"/> \x3c!-- Neu 2019 --\x3e\r\n      \t\t\t<EVAL exec="PVSATZAG = BigDecimal.valueOf(0.01025)"/> \x3c!-- Neu 2019 --\x3e\r\n      \t\t</THEN>\r\n      \t\t<ELSE>\r\n        \t\t<EVAL exec="PVSATZAN =  BigDecimal.valueOf(0.01525)"/> \x3c!-- Neu 2019 --\x3e\r\n        \t\t<EVAL exec="PVSATZAG =  BigDecimal.valueOf(0.01525)"/> \x3c!-- Neu 2019 --\x3e\r\n      \t\t</ELSE>\r\n      \t</IF>\r\n      \t<IF expr="PVZ == 1">\r\n      \t\t<THEN>\r\n      \t\t\t<EVAL exec="PVSATZAN = PVSATZAN.add(BigDecimal.valueOf(0.0025))"/>\r\n      \t\t</THEN>\r\n      \t</IF>\r\n      \t\r\n      \t \x3c!-- Anfang Geändert für 2021 --\x3e \r\n      \t <EVAL exec="W1STKL5 = new BigDecimal(11237)"/>\r\n      \t <EVAL exec="W2STKL5 = new BigDecimal(28959)"/>\r\n      \t <EVAL exec="W3STKL5 = new BigDecimal(219690)"/>\r\n      \t <EVAL exec="GFB = new BigDecimal(9744)"/>\r\n      \t <EVAL exec="SOLZFREI = new BigDecimal(16956)"/>\r\n     \t \x3c!-- Ende Geändert für 2021 --\x3e\r\n     \r\n  </METHOD>\r\n\r\n  \x3c!-- Ermittlung des Jahresarbeitslohns nach § 39 b Abs. 2 Satz 2 EStG, PAP Seite 16 --\x3e\r\n  <METHOD name="MRE4JL">\r\n    <IF expr="LZZ == 1">\r\n      <THEN>\r\n        <EVAL exec="ZRE4J= RE4.divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n        <EVAL exec="ZVBEZJ= VBEZ.divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n        <EVAL exec="JLFREIB= LZZFREIB.divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n        <EVAL exec="JLHINZU= LZZHINZU.divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n      </THEN>\r\n      <ELSE>\r\n        <IF expr="LZZ == 2">\r\n          <THEN>\r\n            <EVAL exec="ZRE4J= (RE4.multiply (ZAHL12)).divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n            <EVAL exec="ZVBEZJ= (VBEZ.multiply (ZAHL12)).divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n            <EVAL exec="JLFREIB= (LZZFREIB.multiply (ZAHL12)).divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n            <EVAL exec="JLHINZU= (LZZHINZU.multiply (ZAHL12)).divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n          </THEN>\r\n          <ELSE>\r\n            <IF expr="LZZ == 3">\r\n              <THEN>\r\n                <EVAL exec="ZRE4J= (RE4.multiply (ZAHL360)).divide (ZAHL700, 2, BigDecimal.ROUND_DOWN)"/>\r\n                <EVAL exec="ZVBEZJ= (VBEZ.multiply (ZAHL360)).divide (ZAHL700, 2, BigDecimal.ROUND_DOWN)"/>\r\n                <EVAL exec="JLFREIB= (LZZFREIB.multiply (ZAHL360)).divide (ZAHL700, 2, BigDecimal.ROUND_DOWN)"/>\r\n                <EVAL exec="JLHINZU= (LZZHINZU.multiply (ZAHL360)).divide (ZAHL700, 2, BigDecimal.ROUND_DOWN)"/>\r\n              </THEN>\r\n              <ELSE>\r\n                <EVAL exec="ZRE4J= (RE4.multiply (ZAHL360)).divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n                <EVAL exec="ZVBEZJ= (VBEZ.multiply (ZAHL360)).divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n                <EVAL exec="JLFREIB= (LZZFREIB.multiply (ZAHL360)).divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n                <EVAL exec="JLHINZU= (LZZHINZU.multiply (ZAHL360)).divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n              </ELSE>\r\n            </IF>\r\n          </ELSE>\r\n        </IF>\r\n      </ELSE>\r\n    </IF>\r\n    <IF expr="af == 0">\r\n\t\t<THEN>\r\n\t\t\t<EVAL exec="f= 1"/>\r\n\t\t</THEN>\r\n    </IF>\r\n  </METHOD>\r\n\r\n  \x3c!-- Freibeträge für Versorgungsbezüge, Altersentlastungsbetrag (§ 39b Abs. 2 Satz 3 EStG), PAP Seite 17 --\x3e\r\n  <METHOD name="MRE4">\r\n    <IF expr="ZVBEZJ.compareTo (BigDecimal.ZERO) == 0">\r\n      <THEN>\r\n        <EVAL exec="FVBZ= BigDecimal.ZERO"/>\r\n        <EVAL exec="FVB= BigDecimal.ZERO"/>\r\n        <EVAL exec="FVBZSO= BigDecimal.ZERO"/>\r\n        <EVAL exec="FVBSO= BigDecimal.ZERO"/>\r\n      </THEN>\r\n      <ELSE>\r\n        <IF expr="VJAHR &lt; 2006">\r\n          <THEN>\r\n            <EVAL exec="J= 1"/>\r\n          </THEN>\r\n          <ELSE>\r\n            <IF expr="VJAHR &lt; 2040">\r\n              <THEN>\r\n                <EVAL exec="J= VJAHR - 2004"/>\r\n              </THEN>\r\n              <ELSE>\r\n                <EVAL exec="J= 36"/>\r\n              </ELSE>\r\n            </IF>\r\n          </ELSE>\r\n        </IF>\r\n        <IF expr="LZZ == 1">\r\n          <THEN>\r\n            <EVAL exec="VBEZB= (VBEZM.multiply (BigDecimal.valueOf (ZMVB))).add (VBEZS)"/>\r\n            <EVAL exec="HFVB= TAB2[J].divide (ZAHL12).multiply (BigDecimal.valueOf (ZMVB))"/>\r\n            <EVAL exec="FVBZ= TAB3[J].divide (ZAHL12).multiply (BigDecimal.valueOf (ZMVB)).setScale (0, BigDecimal.ROUND_UP)"/>\r\n          </THEN> \r\n          <ELSE>\r\n            <EVAL exec="VBEZB= ((VBEZM.multiply (ZAHL12)).add (VBEZS)).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n            <EVAL exec="HFVB= TAB2[J]"/>\r\n            <EVAL exec="FVBZ= TAB3[J]"/>\r\n          </ELSE>\r\n        </IF>\r\n        <EVAL exec="FVB= ((VBEZB.multiply (TAB1[J]))).divide (ZAHL100).setScale (2, BigDecimal.ROUND_UP)"/>\r\n        <IF expr="FVB.compareTo (HFVB) == 1">\r\n          <THEN>\r\n            <EVAL exec="FVB = HFVB"/>\r\n          </THEN>\r\n        </IF>\r\n        \r\n        <IF expr="FVB.compareTo (ZVBEZJ) == 1">\r\n          <THEN>\r\n            <EVAL exec="FVB = ZVBEZJ"/>\r\n          </THEN>\r\n        </IF>\r\n        \r\n        <EVAL exec="FVBSO= (FVB.add((VBEZBSO.multiply (TAB1[J])).divide (ZAHL100))).setScale (2, BigDecimal.ROUND_UP)"/>\r\n        <IF expr="FVBSO.compareTo (TAB2[J]) == 1">\r\n          <THEN>\r\n            <EVAL exec="FVBSO = TAB2[J]"/>\r\n          </THEN> \r\n        </IF>\r\n        <EVAL exec="HFVBZSO= (((VBEZB.add(VBEZBSO)).divide (ZAHL100)).subtract (FVBSO)).setScale (2, BigDecimal.ROUND_DOWN)"/>        \r\n        <EVAL exec="FVBZSO= (FVBZ.add((VBEZBSO).divide (ZAHL100))).setScale (0, BigDecimal.ROUND_UP)"/>\r\n        <IF expr="FVBZSO.compareTo (HFVBZSO) == 1">\r\n          <THEN>\r\n            <EVAL exec="FVBZSO = HFVBZSO.setScale(0, BigDecimal.ROUND_UP)"/>\r\n          </THEN>\r\n        </IF>\r\n        <IF expr="FVBZSO.compareTo (TAB3[J]) == 1">\r\n          <THEN>\r\n            <EVAL exec="FVBZSO = TAB3[J]"/>\r\n          </THEN>\r\n        </IF> \r\n        <EVAL exec="HFVBZ= ((VBEZB.divide (ZAHL100)).subtract (FVB)).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n        <IF expr="FVBZ.compareTo (HFVBZ) == 1">\r\n          <THEN>\r\n            <EVAL exec="FVBZ = HFVBZ.setScale (0, BigDecimal.ROUND_UP)"/>\r\n          </THEN>\r\n        </IF>\r\n      </ELSE>\r\n    </IF>\r\n    <EXECUTE method="MRE4ALTE"/>\r\n  </METHOD>\r\n\r\n  \x3c!-- Altersentlastungsbetrag (§ 39b Abs. 2 Satz 3 EStG), PAP Seite 18 --\x3e\r\n  <METHOD name="MRE4ALTE">\r\n    <IF expr="ALTER1 == 0">\r\n      <THEN>\r\n        <EVAL exec="ALTE= BigDecimal.ZERO"/>\r\n      </THEN>\r\n      <ELSE>\r\n        <IF expr="AJAHR &lt; 2006">\r\n          <THEN>\r\n            <EVAL exec="K= 1"/>\r\n          </THEN>\r\n          <ELSE>\r\n            <IF expr="AJAHR &lt; 2040">\r\n              <THEN>\r\n                <EVAL exec="K= AJAHR - 2004"/>\r\n              </THEN>\r\n              <ELSE>\r\n                <EVAL exec="K= 36"/>\r\n              </ELSE>\r\n            </IF>\r\n          </ELSE>\r\n        </IF>\r\n        <EVAL exec="BMG= ZRE4J.subtract (ZVBEZJ)"/>\r\n        \x3c!-- Lt. PAP muss hier auf ganze EUR gerundet werden --\x3e\r\n        <EVAL exec="ALTE = (BMG.multiply(TAB4[K])).setScale(0, BigDecimal.ROUND_UP)"/>\r\n        <EVAL exec="HBALTE= TAB5[K]"/>\r\n        <IF expr="ALTE.compareTo (HBALTE) == 1">\r\n          <THEN>\r\n            <EVAL exec="ALTE= HBALTE"/>\r\n          </THEN>\r\n        </IF>\r\n      </ELSE>\r\n    </IF>\r\n  </METHOD>\r\n\r\n  \x3c!-- Ermittlung des Jahresarbeitslohns nach Abzug der Freibeträge nach § 39 b Abs. 2 Satz 3 und 4 EStG, PAP Seite 20 --\x3e\r\n  <METHOD name="MRE4ABZ"> \r\n  \t<EVAL exec="ZRE4= (ZRE4J.subtract (FVB).subtract   (ALTE).subtract (JLFREIB).add (JLHINZU)).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n  \t<IF expr="ZRE4.compareTo (BigDecimal.ZERO) == -1"> \r\n  \t\t<THEN> \r\n  \t\t\t<EVAL exec="ZRE4= BigDecimal.ZERO"/> \r\n  \t\t</THEN> \r\n  \t</IF> \r\n  \t<EVAL exec="ZRE4VP= ZRE4J"/>\r\n\r\n  \t<IF expr="KENNVMT == 2"> \r\n  \t\t<THEN> \r\n  \t\t\t\t<EVAL exec="ZRE4VP = ZRE4VP.subtract(ENTSCH.divide(ZAHL100)).setScale(2,BigDecimal.ROUND_DOWN)"/> \r\n  \t\t</THEN> \r\n  \t</IF>\r\n\r\n    <EVAL exec="ZVBEZ = ZVBEZJ.subtract(FVB).setScale(2, BigDecimal.ROUND_DOWN)"/>\r\n\r\n    <IF expr="ZVBEZ.compareTo(BigDecimal.ZERO) == -1"> \r\n    \t<THEN> \r\n    \t\t<EVAL exec="ZVBEZ = BigDecimal.ZERO"/> \r\n    \t</THEN> \r\n    </IF> \r\n  </METHOD>\r\n\r\n  \x3c!-- Berechnung fuer laufende Lohnzahlungszeitraueme Seite 21--\x3e\r\n  <METHOD name="MBERECH"> \r\n\r\n    <EXECUTE method="MZTABFB"/> \r\n    <EVAL exec="VFRB = ((ANP.add(FVB.add(FVBZ))).multiply(ZAHL100)).setScale(0, BigDecimal.ROUND_DOWN)"/>\r\n    <EXECUTE method="MLSTJAHR"/>\r\n    \r\n    <EVAL exec="WVFRB = ((ZVE.subtract(GFB)).multiply(ZAHL100)).setScale(0, BigDecimal.ROUND_DOWN)"/> \r\n    <IF expr="WVFRB.compareTo(BigDecimal.ZERO) == -1">  \x3c!-- WVFRB < 0 --\x3e\r\n    \t<THEN> \r\n    \t\t<EVAL exec="WVFRB = BigDecimal.valueOf(0)"/> \r\n    \t</THEN> \r\n    </IF> \r\n    \r\n    \r\n\t<EVAL exec="LSTJAHR = (ST.multiply(BigDecimal.valueOf(f))).setScale(0,BigDecimal.ROUND_DOWN)"/> \r\n\t<EXECUTE method="UPLSTLZZ"/>\r\n\t<EXECUTE method="UPVKVLZZ"/>\r\n\t   \t\r\n\t <IF expr="ZKF.compareTo(BigDecimal.ZERO) == 1">  \x3c!-- ZKF > 0 --\x3e\r\n\t    <THEN> \r\n\t    \t  <EVAL exec="ZTABFB = ZTABFB.add(KFB)"/> \r\n\t    \t  <EXECUTE method="MRE4ABZ"/>\r\n\t    \t  <EXECUTE method="MLSTJAHR"/>\r\n\t    \t  <EVAL exec="JBMG = (ST.multiply(BigDecimal.valueOf(f))).setScale(0,BigDecimal.ROUND_DOWN)"/> \r\n\t    </THEN> \r\n\t    <ELSE>\r\n\t          <EVAL exec="JBMG = LSTJAHR"/> \r\n\t    </ELSE>\r\n\t  </IF> \r\n\t  \r\n\t  <EXECUTE method="MSOLZ"/>\r\n\t    \r\n  </METHOD>\r\n\r\n  \x3c!-- Ermittlung der festen Tabellenfreibeträge (ohne Vorsorgepauschale), PAP Seite 22 --\x3e\r\n  <METHOD name="MZTABFB"> \r\n    <EVAL exec="ANP= BigDecimal.ZERO"/>\r\n    <IF expr="ZVBEZ.compareTo (BigDecimal.ZERO) &gt;= 0 &amp;&amp; ZVBEZ.compareTo(FVBZ) == -1">\r\n      <THEN>\r\n        <EVAL exec="FVBZ = BigDecimal.valueOf(ZVBEZ.longValue())"/>\r\n      </THEN>\r\n    </IF>\r\n    <IF expr="STKL &lt; 6">\r\n      <THEN>\r\n        <IF expr="ZVBEZ.compareTo (BigDecimal.ZERO) == 1">\r\n          <THEN>\r\n            <IF expr="(ZVBEZ.subtract (FVBZ)).compareTo (BigDecimal.valueOf (102)) == -1">\r\n              <THEN>\r\n                <EVAL exec="ANP= (ZVBEZ.subtract (FVBZ)).setScale (0, BigDecimal.ROUND_UP)"/>\r\n              </THEN>\r\n              <ELSE>\r\n                <EVAL exec="ANP= BigDecimal.valueOf (102)"/>\r\n              </ELSE>\r\n            </IF>\r\n          </THEN>\r\n        </IF>\r\n      </THEN>\r\n      <ELSE>\r\n      \t<EVAL exec="FVBZ= BigDecimal.valueOf (0)"/>\r\n      \t<EVAL exec="FVBZSO= BigDecimal.valueOf (0)"/>\r\n      </ELSE>\r\n    </IF>\r\n    <IF expr="STKL &lt; 6">\r\n      <THEN>\r\n      \t<IF expr="ZRE4.compareTo(ZVBEZ) == 1">\r\n        \t<THEN>\r\n\t        \t<IF expr="ZRE4.subtract(ZVBEZ).compareTo(ZAHL1000) == -1">\r\n\t\t        \t<THEN>\r\n\t\t        \t\t<EVAL exec="ANP = ANP.add(ZRE4).subtract(ZVBEZ).setScale(0,BigDecimal.ROUND_UP)"/>\r\n\t\t        \t</THEN>\r\n\t        \t\t<ELSE>\r\n\t        \t\t\t<EVAL exec="ANP = ANP.add(ZAHL1000)"/>\r\n\t        \t\t</ELSE>\r\n\t        \t</IF>\r\n        \t</THEN>\r\n        </IF>\r\n      </THEN>\r\n    </IF>\r\n    <EVAL exec="KZTAB= 1"/>\r\n    <IF expr="STKL == 1">\r\n      <THEN>\r\n        <EVAL exec="SAP= BigDecimal.valueOf (36)"/>\r\n        <EVAL exec="KFB= (ZKF.multiply (BigDecimal.valueOf (8388))).setScale (0, BigDecimal.ROUND_DOWN)"/> \x3c!-- Geändert für 2021 --\x3e\r\n      </THEN>\r\n\t  <ELSE>\r\n\t\t\t<IF expr="STKL == 2">\r\n\t\t\t    <THEN>\r\n\t\t\t        <EVAL exec="EFA= BigDecimal.valueOf (1908)"/>\r\n\t\t\t        <EVAL exec="SAP= BigDecimal.valueOf (36)"/>\r\n\t\t\t        <EVAL exec="KFB= (ZKF.multiply (BigDecimal.valueOf (8388))).setScale (0, BigDecimal.ROUND_DOWN)"/> \x3c!-- Geändert für 2021 --\x3e\r\n\t\t\t    </THEN>\r\n\t\t \r\n\t\t    \t<ELSE>\r\n\t\t\t\t\t<IF expr="STKL == 3">\r\n\t\t\t\t\t    <THEN>\r\n\t\t\t\t\t        <EVAL exec="KZTAB= 2"/>\r\n\t\t\t\t\t        <EVAL exec="SAP= BigDecimal.valueOf (36)"/>\r\n\t\t\t\t\t        <EVAL exec="KFB= (ZKF.multiply (BigDecimal.valueOf (8388))).setScale (0, BigDecimal.ROUND_DOWN)"/> \x3c!-- Geändert für 2021 --\x3e\r\n\t\t\t\t\t    </THEN>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<ELSE>\r\n\t\t\t\t\t\t  \t<IF expr="STKL == 4">\r\n\t\t\t\t\t\t      <THEN>\r\n\t\t\t\t\t\t        <EVAL exec="SAP= BigDecimal.valueOf (36)"/>\r\n\t\t\t\t\t\t        <EVAL exec="KFB= (ZKF.multiply (BigDecimal.valueOf (4194))).setScale (0, BigDecimal.ROUND_DOWN)"/> \x3c!-- Geändert für 2021 --\x3e\r\n\t\t\t\t\t\t      </THEN> \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t  <ELSE>\r\n\t\t\t\t\t\t\t\t  \t<IF expr="STKL == 5">\r\n\t\t\t\t\t\t\t\t      <THEN>\r\n\t\t\t\t\t\t\t\t        <EVAL exec="SAP= BigDecimal.valueOf (36)"/>\r\n\t\t\t\t\t\t\t\t        <EVAL exec="KFB= BigDecimal.ZERO"/>\r\n\t\t\t\t\t\t\t\t      </THEN> \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t  <ELSE>\r\n\t\t\t\t\t\t\t\t        <EVAL exec="KFB= BigDecimal.ZERO"/>\r\n\t\t\t\t\t\t\t\t\t  </ELSE>\r\n\t\t\t\t\t\t\t\t\t</IF>\r\n\t\t\t\t\t\t\t </ELSE>\r\n\t\t\t\t\t\t\t</IF>\r\n\t\t\t\t\t\t</ELSE>\t\r\n\t\t\t\t\t</IF>  \t\r\n\t\t\t\t</ELSE>\t\r\n\t\t\t</IF>\t\r\n\t\t</ELSE>\t\r\n    </IF>\r\n    <EVAL exec="ZTABFB= (EFA.add (ANP).add (SAP).add (FVBZ)).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n  </METHOD>\r\n\r\n  \x3c!-- Ermittlung Jahreslohnsteuer, PAP Seite 23 --\x3e\r\n  <METHOD name="MLSTJAHR">\r\n     <EXECUTE method="UPEVP"/>\r\n    <IF expr="KENNVMT != 1">\r\n      <THEN>\r\n        <EVAL exec="ZVE= (ZRE4.subtract (ZTABFB).subtract (VSP)).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n        <EXECUTE method="UPMLST"/>\r\n      </THEN>\r\n      <ELSE>\r\n        <EVAL exec="ZVE= (ZRE4.subtract (ZTABFB).subtract (VSP).subtract ((VMT).divide (ZAHL100)).subtract ((VKAPA).divide (ZAHL100))).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n        <IF expr="ZVE.compareTo (BigDecimal.ZERO) == -1">\r\n          <THEN>\r\n            <EVAL exec=" ZVE = ZVE.add(VMT.divide(ZAHL100)).add(VKAPA.divide(ZAHL100)).divide(ZAHL5).setScale(2,BigDecimal.ROUND_DOWN)"/>\r\n            <EXECUTE method="UPMLST"/>\r\n            <EVAL exec="ST= (ST.multiply (ZAHL5)).setScale (0, BigDecimal.ROUND_DOWN)"/> \r\n          </THEN>\r\n          <ELSE>\r\n            <EXECUTE method="UPMLST"/>\r\n\t        <EVAL exec="STOVMT= ST"/>\r\n            <EVAL exec="ZVE= (ZVE.add(((VMT.add (VKAPA)).divide (ZAHL500)))).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n            <EXECUTE method="UPMLST"/>\r\n            <EVAL exec="ST= (((ST.subtract (STOVMT)).multiply (ZAHL5)).add (STOVMT)).setScale (0, BigDecimal.ROUND_DOWN)"/> \r\n          </ELSE>\r\n        </IF>\r\n      </ELSE>\r\n    </IF> \r\n  </METHOD>\r\n  \r\n  \x3c!-- PAP Seite 24 --\x3e \r\n  <METHOD name="UPVKVLZZ">\r\n\t <EXECUTE method="UPVKV"/>\r\n\t <EVAL exec="JW = VKV"/>\r\n\t <EXECUTE method="UPANTEIL"/>\r\n\t <EVAL exec="VKVLZZ = ANTEIL1"/>\r\n  </METHOD>\r\n\r\n  \x3c!-- PAP Seite 24 --\x3e \r\n  <METHOD name="UPVKV">\r\n\t <IF expr="PKV &gt; 0">\r\n\t\t<THEN>\r\n\t\t\t<IF expr="VSP2.compareTo(VSP3) == 1">\r\n\t\t\t\t<THEN>\r\n\t\t\t\t\t<EVAL exec="VKV = VSP2.multiply(ZAHL100)"/>\r\n\t\t\t\t</THEN>\r\n\t\t\t\t<ELSE>\r\n\t\t\t\t\t<EVAL exec="VKV = VSP3.multiply(ZAHL100)"/>\r\n\t\t\t\t</ELSE>\r\n\t\t\t</IF>\r\n\t\t</THEN>\r\n\t\t<ELSE>\r\n\t\t\t<EVAL exec="VKV = BigDecimal.ZERO"/>\r\n\t\t</ELSE>\r\n\t</IF>\r\n  </METHOD>\r\n  \r\n  \x3c!-- PAP Seite 25 --\x3e\r\n   <METHOD name="UPLSTLZZ">\r\n   \t  <EVAL exec="JW = LSTJAHR.multiply(ZAHL100)"/>  \r\n\t  <EXECUTE method="UPANTEIL"/>\r\n\t  <EVAL exec="LSTLZZ = ANTEIL1"/>\r\n   </METHOD>\r\n\t\r\n  \x3c!-- Ermittlung der Jahreslohnsteuer aus dem Einkommensteuertarif. PAP Seite 26 --\x3e\r\n  <METHOD name="UPMLST">\r\n\t<IF expr="ZVE.compareTo (ZAHL1) == -1">\r\n      <THEN>\r\n        <EVAL exec="ZVE= BigDecimal.ZERO"/>\r\n        <EVAL exec="X= BigDecimal.ZERO"/>\r\n      </THEN>\r\n      <ELSE>\r\n        <EVAL exec="X= (ZVE.divide (BigDecimal.valueOf(KZTAB))).setScale (0, BigDecimal.ROUND_DOWN)"/>\r\n      </ELSE>\r\n    </IF>\r\n\t<IF expr="STKL &lt; 5">\r\n      <THEN>\r\n      \r\n      \t \x3c!-- Änderung für 2021 --\x3e\r\n      \t <EXECUTE method="UPTAB21"/> \r\n\r\n      </THEN>\r\n      <ELSE>\r\n        <EXECUTE method="MST5_6"/>\r\n      </ELSE>\r\n    </IF>\r\n  </METHOD>\t  \r\n\r\n  \x3c!-- \tVorsorgepauschale (§ 39b Absatz 2 Satz 5 Nummer 3 und Absatz 4 EStG) PAP Seite 27  --\x3e\r\n  <METHOD name="UPEVP">\r\n    <IF expr="KRV &gt; 1">\x3c!-- &lt; = < &gt; = > --\x3e\r\n      <THEN>\r\n        <EVAL exec="VSP1= BigDecimal.ZERO"/>\r\n      </THEN>\r\n\t\t<ELSE>  \r\n\t\t    <IF expr="ZRE4VP.compareTo(BBGRV) == 1">\r\n      \t\t\t<THEN>\r\n      \t\t\t\t<EVAL exec="ZRE4VP = BBGRV"/>\r\n      \t\t\t</THEN>\r\n      \t\t</IF>\r\n      \t\t<EVAL exec="VSP1 = (TBSVORV.multiply(ZRE4VP)).setScale(2,BigDecimal.ROUND_DOWN)"/>\r\n      \t\t<EVAL exec="VSP1 = (VSP1.multiply(RVSATZAN)).setScale(2,BigDecimal.ROUND_DOWN)"/>\r\n\t    </ELSE>\r\n    </IF>\r\n    <EVAL exec="VSP2 = (ZRE4VP.multiply(BigDecimal.valueOf(0.12))).setScale(2,BigDecimal.ROUND_DOWN)"/>\r\n    <IF expr="STKL == 3">\r\n\t    <THEN>\r\n\t        <EVAL exec="VHB = BigDecimal.valueOf(3000)"/>\r\n\t    </THEN>\r\n\t    <ELSE>\r\n\t        <EVAL exec="VHB = BigDecimal.valueOf(1900)"/>\r\n\t    </ELSE>\r\n     </IF>\r\n    <IF expr="VSP2.compareTo (VHB) == 1">\r\n      <THEN>\r\n        <EVAL exec="VSP2= VHB"/>\r\n      </THEN>\r\n    </IF>\r\n    <EVAL exec="VSPN= (VSP1.add (VSP2)).setScale (0, BigDecimal.ROUND_UP)"/>\r\n    <EXECUTE method="MVSP"/>\r\n    <IF expr="VSPN.compareTo (VSP) == 1">\r\n      <THEN>\r\n        <EVAL exec="VSP= VSPN.setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n      </THEN>\r\n    </IF>\r\n  </METHOD>\r\n \r\n  \x3c!-- Vorsorgepauschale (§39b Abs. 2 Satz 5 Nr 3 EStG) Vergleichsberechnung fuer Guenstigerpruefung, PAP Seite 28 --\x3e\r\n  <METHOD name="MVSP">\r\n    <IF expr="ZRE4VP.compareTo(BBGKVPV) == 1">\r\n      <THEN>\r\n\t  \t<EVAL exec="ZRE4VP = BBGKVPV"/>\r\n\t  </THEN>\r\n    </IF>\r\n\r\n    <IF expr="PKV &gt; 0">\r\n      <THEN>\r\n\t\t\t    <IF expr="STKL == 6">\r\n\t\t\t      <THEN>\r\n\t\t\t\t\t\t<EVAL exec="VSP3 = BigDecimal.ZERO"/>\r\n\t\t\t\t  </THEN>\r\n\t\t\t\t  <ELSE>\r\n\t\t\t\t    \t<EVAL exec="VSP3 = PKPV.multiply(ZAHL12).divide(ZAHL100)"/>\r\n\t\t\t\t\t\t<IF expr="PKV == 2">\r\n\t\t\t\t\t\t    <THEN>\r\n\t\t\t\t\t\t\t\t\t<EVAL exec="VSP3 = VSP3.subtract( ZRE4VP.multiply( KVSATZAG.add(PVSATZAG))).setScale(2,BigDecimal.ROUND_DOWN)"/>\r\n\t\t\t\t\t\t\t</THEN>\t    \t\t\r\n\t\t\t\t\t\t</IF>\r\n\t\t\t\t  </ELSE>\r\n\t\t\t    </IF>\r\n\t    </THEN>\r\n\t    <ELSE>\r\n\t\t\t\t<EVAL exec="VSP3 = ZRE4VP.multiply(KVSATZAN.add(PVSATZAN)).setScale(2, BigDecimal.ROUND_DOWN)"/>\r\n\t    </ELSE>\r\n    </IF>\r\n\t\t<EVAL exec="VSP = VSP3.add(VSP1).setScale(0, BigDecimal.ROUND_UP)"/>\r\n  </METHOD>\r\n\r\n  \x3c!-- Lohnsteuer fuer die Steuerklassen V und VI (§ 39b Abs. 2 Satz 7 EStG), PAP Seite 29 --\x3e\r\n  <METHOD name="MST5_6">\r\n    <EVAL exec="ZZX= X"/>\r\n    <IF expr="ZZX.compareTo(W2STKL5) == 1">\r\n      <THEN>\r\n        <EVAL exec="ZX= W2STKL5"/>\r\n        <EXECUTE method="UP5_6"/>\r\n\t    <IF expr="ZZX.compareTo (W3STKL5) == 1">\r\n\t      <THEN>\r\n            <EVAL exec="ST= (ST.add ((W3STKL5.subtract (W2STKL5)).multiply (BigDecimal.valueOf (0.42)))).setScale (0, BigDecimal.ROUND_DOWN)"/>\r\n            <EVAL exec="ST= (ST.add ((ZZX.subtract (W3STKL5)).multiply (BigDecimal.valueOf (0.45)))).setScale (0, BigDecimal.ROUND_DOWN)"/>\r\n          </THEN>\r\n          <ELSE>\r\n            <EVAL exec="ST= (ST.add ((ZZX.subtract (W2STKL5)).multiply (BigDecimal.valueOf (0.42)))).setScale (0, BigDecimal.ROUND_DOWN)"/>\r\n          </ELSE>\r\n        </IF>\r\n      </THEN>\r\n      <ELSE>\r\n        <EVAL exec="ZX= ZZX"/>\r\n        <EXECUTE method="UP5_6"/>\r\n        <IF expr="ZZX.compareTo (W1STKL5) == 1"> \r\n          <THEN>\r\n            <EVAL exec="VERGL= ST"/>\r\n            <EVAL exec="ZX= W1STKL5"/> \r\n            <EXECUTE method="UP5_6"/>\r\n            <EVAL exec="HOCH= (ST.add ((ZZX.subtract (W1STKL5)).multiply (BigDecimal.valueOf (0.42)))).setScale (0, BigDecimal.ROUND_DOWN)"/> \x3c!-- Neuer Wert 2014 --\x3e\r\n            <IF expr="HOCH.compareTo (VERGL) == -1">\r\n              <THEN>\r\n                <EVAL exec="ST= HOCH"/>\r\n              </THEN>\r\n              <ELSE>\r\n                <EVAL exec="ST= VERGL"/>\r\n              </ELSE>\r\n            </IF>\r\n          </THEN>\r\n        </IF>\r\n      </ELSE>\r\n    </IF>\r\n  </METHOD>\r\n\r\n  \x3c!-- Unterprogramm zur Lohnsteuer fuer die Steuerklassen V und VI (§ 39b Abs. 2 Satz 7 EStG), PAP Seite 30 --\x3e\r\n  <METHOD name="UP5_6">\r\n    <EVAL exec="X= (ZX.multiply (BigDecimal.valueOf (1.25))).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n    \r\n   \t\x3c!-- Änderung für 2021 --\x3e\r\n   \t<EXECUTE method="UPTAB21"/> \r\n    \r\n    <EVAL exec="ST1= ST"/>\r\n    <EVAL exec="X= (ZX.multiply (BigDecimal.valueOf (0.75))).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n    \r\n   \t\x3c!-- Änderung für 2021 --\x3e\r\n   \t<EXECUTE method="UPTAB21"/> \r\n    \r\n    <EVAL exec="ST2= ST"/>\r\n    <EVAL exec="DIFF= (ST1.subtract (ST2)).multiply (ZAHL2)"/>\r\n    <EVAL exec="MIST= (ZX.multiply (BigDecimal.valueOf (0.14))).setScale (0, BigDecimal.ROUND_DOWN)"/>\r\n    <IF expr="MIST.compareTo (DIFF) == 1">\r\n      <THEN>\r\n        <EVAL exec="ST= MIST"/>\r\n      </THEN>\r\n      <ELSE>\r\n        <EVAL exec="ST= DIFF"/>\r\n      </ELSE>\r\n    </IF>\r\n  </METHOD>\r\n\r\n  \x3c!-- Solidaritaetszuschlag, PAP Seite 31 --\x3e\r\n  <METHOD name="MSOLZ">\r\n    <EVAL exec="SOLZFREI = (SOLZFREI.multiply(BigDecimal.valueOf(KZTAB)))"/> \r\n    <IF expr="JBMG.compareTo (SOLZFREI) == 1">\r\n      <THEN>\r\n        <EVAL exec="SOLZJ= (JBMG.multiply (BigDecimal.valueOf (5.5))).divide(ZAHL100).setScale(2, BigDecimal.ROUND_DOWN)"/>\r\n        <EVAL exec="SOLZMIN= (JBMG.subtract (SOLZFREI)).multiply (BigDecimal.valueOf (11.9)).divide (ZAHL100).setScale (2, BigDecimal.ROUND_DOWN)"/> \x3c!-- Änderung für 2021 --\x3e\r\n        <IF expr="SOLZMIN.compareTo (SOLZJ) == -1">\r\n          <THEN>\r\n            <EVAL exec="SOLZJ= SOLZMIN"/>\r\n          </THEN>\r\n        </IF>\r\n        <EVAL exec="JW= SOLZJ.multiply (ZAHL100).setScale (0, BigDecimal.ROUND_DOWN)"/>\r\n                \r\n        <EXECUTE method="UPANTEIL"/>\r\n        \r\n        <EVAL exec="SOLZLZZ= ANTEIL1"/>\r\n      </THEN>\r\n      <ELSE>\r\n        <EVAL exec="SOLZLZZ= BigDecimal.ZERO"/>\r\n      </ELSE>\r\n    </IF>\r\n    <IF expr="R &gt; 0">\r\n      <THEN>\r\n        <EVAL exec="JW= JBMG.multiply (ZAHL100)"/>        \r\n        \r\n        <EXECUTE method="UPANTEIL"/>\r\n        <EVAL exec="BK= ANTEIL1"/>\r\n      </THEN>\r\n      <ELSE>\r\n        <EVAL exec="BK= BigDecimal.ZERO"/>\r\n      </ELSE>\r\n    </IF>\r\n  </METHOD>\r\n\r\n  \x3c!-- Anteil von Jahresbetraegen fuer einen LZZ (§ 39b Abs. 2 Satz 9 EStG), PAP Seite 32 --\x3e\r\n  <METHOD name="UPANTEIL">\r\n    <IF expr="LZZ == 1">\r\n      <THEN>\r\n        <EVAL exec="ANTEIL1= JW"/>\r\n      </THEN>\r\n      <ELSE>\r\n        <IF expr="LZZ == 2">\r\n          <THEN>\r\n            <EVAL exec="ANTEIL1= JW.divide (ZAHL12, 0, BigDecimal.ROUND_DOWN)"/>\r\n          </THEN>\r\n          <ELSE>\r\n            <IF expr="LZZ == 3">\r\n              <THEN> \r\n                <EVAL exec="ANTEIL1= (JW.multiply (ZAHL7)).divide (ZAHL360, 0, BigDecimal.ROUND_DOWN)"/>\r\n              </THEN>\r\n              <ELSE>\r\n                <EVAL exec="ANTEIL1= JW.divide (ZAHL360, 0, BigDecimal.ROUND_DOWN)"/>\r\n              </ELSE>\r\n            </IF>\r\n          </ELSE>\r\n        </IF>\r\n      </ELSE>\r\n    </IF>\r\n  </METHOD>\r\n\r\n  \x3c!-- Berechnung sonstiger Bezuege nach § 39b Abs. 3 Saetze 1 bis 8 EStG), PAP Seite 33 --\x3e\r\n  <METHOD name="MSONST">\r\n    <EVAL exec="LZZ= 1"/>\r\n    <IF expr="ZMVB == 0">\r\n      <THEN>\r\n        <EVAL exec="ZMVB= 12"/>\r\n      </THEN>\r\n    </IF>\r\n    <IF expr="SONSTB.compareTo (BigDecimal.ZERO) == 0">\r\n      <THEN>\r\n        <EVAL exec="VKVSONST= BigDecimal.ZERO"/>\r\n        <EVAL exec="LSTSO= BigDecimal.ZERO"/>\r\n        <EVAL exec="STS= BigDecimal.ZERO"/>\r\n        <EVAL exec="SOLZS= BigDecimal.ZERO"/>\r\n        <EVAL exec="BKS= BigDecimal.ZERO"/>\r\n      </THEN>\r\n      <ELSE>\r\n        <EXECUTE method="MOSONST"/>\r\n        <EXECUTE method="UPVKV"/>\r\n        <EVAL exec="VKVSONST = VKV"/>\r\n        <EVAL exec="ZRE4J= ((JRE4.add (SONSTB)).divide (ZAHL100)).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n        <EVAL exec="ZVBEZJ= ((JVBEZ.add (VBS)).divide (ZAHL100)).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n        <EVAL exec="VBEZBSO= STERBE"/>\r\n        <EXECUTE method="MRE4SONST"/>\r\n        <EXECUTE method="MLSTJAHR"/>\r\n        \r\n         <EVAL exec="WVFRBM = (ZVE.subtract(GFB)).multiply(ZAHL100).setScale(2,BigDecimal.ROUND_DOWN)"/>\r\n         <IF expr="WVFRBM.compareTo(BigDecimal.ZERO) == -1"> \x3c!-- WVFRBM < 0 --\x3e\r\n          <THEN>\r\n            <EVAL exec="WVFRBM = BigDecimal.ZERO"/>\r\n          </THEN>\r\n        </IF>\r\n        \r\n        <EXECUTE method="UPVKV"/>\r\n        <EVAL exec="VKVSONST = VKV.subtract(VKVSONST)"/>\r\n        <EVAL exec="LSTSO= ST.multiply (ZAHL100)"/>\r\n        \x3c!-- \tlt. PAP muss hier auf ganze EUR aufgerundet werden, \r\n        \t\t\tallerdings muss der Wert in Cent vorgehalten werden,\r\n        \t\t\tdeshalb nach dem Aufrunden auf ganze EUR durch \'divide(ZAHL100, 0, BigDecimal.ROUND_DOWN)\'\r\n        \t\t\twieder die Multiplikation mit 100 --\x3e\r\n        <EVAL exec="STS = LSTSO.subtract(LSTOSO).multiply(BigDecimal.valueOf(f)).divide(ZAHL100, 0, BigDecimal.ROUND_DOWN).multiply(ZAHL100)"/>\r\n        <IF expr="STS.compareTo (BigDecimal.ZERO) == -1">\r\n          <THEN>\r\n            <EVAL exec="STS= BigDecimal.ZERO"/>\r\n          </THEN>\r\n        </IF>\r\n        <EXECUTE method="MSOLZSTS"/> \x3c!-- Neu ab 2021 --\x3e\r\n        <IF expr="R &gt; 0">\r\n          <THEN>\r\n            <EVAL exec="BKS= STS"/>\r\n          </THEN>\r\n          <ELSE>\r\n            <EVAL exec="BKS= BigDecimal.ZERO"/>\r\n          </ELSE>\r\n        </IF>\r\n      </ELSE>\r\n    </IF>\r\n  </METHOD>\r\n\r\n  \x3c!-- Berechnung des SolZ auf sonstige Bezüge, PAP Seite 34, Neu ab 2021 --\x3e\r\n  <METHOD name="MSOLZSTS">\r\n    <IF expr="ZKF.compareTo(BigDecimal.ZERO) == 1"> \x3c!-- ZKF > 0 --\x3e\r\n      <THEN>\r\n        <EVAL exec="SOLZSZVE= ZVE.subtract(KFB)"/>\r\n      </THEN>\r\n      <ELSE>\r\n      \t<EVAL exec="SOLZSZVE= ZVE"/>\r\n      </ELSE>\r\n    </IF>\r\n    <IF expr="SOLZSZVE.compareTo(BigDecimal.ONE) == -1"> \x3c!-- SOLZSZVE < 1 --\x3e\r\n      <THEN>\r\n        <EVAL exec="SOLZSZVE= BigDecimal.ZERO"/>\r\n        <EVAL exec="X= BigDecimal.ZERO"/>\r\n      </THEN>\r\n      <ELSE>\r\n      \t<EVAL exec="X= SOLZSZVE.divide(BigDecimal.valueOf(KZTAB), 0, BigDecimal.ROUND_DOWN)"/>\r\n      </ELSE>\r\n    </IF>\r\n    <IF expr="STKL &lt; 5"> \x3c!-- STKL < 5 --\x3e\r\n      <THEN>\r\n        <EXECUTE method="UPTAB21"/> \r\n      </THEN>\r\n      <ELSE>\r\n      \t<EXECUTE method="MST5_6"/> \r\n      </ELSE>\r\n    </IF>\r\n    <EVAL exec="SOLZSBMG= ST.multiply(BigDecimal.valueOf(f)).setScale(0,BigDecimal.ROUND_DOWN)"/>\r\n    <IF expr="SOLZSBMG.compareTo(SOLZFREI) == 1"> \x3c!-- SOLZSBMG > SOLZFREI --\x3e\r\n      <THEN>\r\n        <EVAL exec="SOLZS= STS.multiply(BigDecimal.valueOf(5.5)).divide(ZAHL100, 0, BigDecimal.ROUND_DOWN)"/>\r\n      </THEN>\r\n      <ELSE>\r\n      \t<EVAL exec="SOLZS= BigDecimal.ZERO"/>\r\n      </ELSE>\r\n    </IF>\r\n  </METHOD>\r\n  \r\n  \x3c!-- Berechnung der Verguetung fuer mehrjaehrige Taetigkeit nach § 39b Abs. 3 Satz 9 und 10 EStG), PAP Seite 35 --\x3e\r\n  <METHOD name="MVMT">\r\n    <IF expr="VKAPA.compareTo (BigDecimal.ZERO) == -1">\r\n      <THEN>\r\n        <EVAL exec="VKAPA= BigDecimal.ZERO"/>\r\n      </THEN>\r\n    </IF>\r\n    <IF expr="(VMT.add (VKAPA)).compareTo (BigDecimal.ZERO) == 1">\r\n      <THEN>\r\n        <IF expr="LSTSO.compareTo (BigDecimal.ZERO) == 0">\r\n          <THEN>\r\n            <EXECUTE method="MOSONST"/>\r\n            <EVAL exec="LST1= LSTOSO"/>\r\n          </THEN>\r\n          <ELSE>\r\n            <EVAL exec="LST1= LSTSO"/>\r\n          </ELSE>\r\n        </IF>\r\n        <EVAL exec="VBEZBSO= STERBE.add (VKAPA)"/>\r\n        <EVAL exec="ZRE4J= ((JRE4.add (SONSTB).add (VMT).add (VKAPA)).divide (ZAHL100)).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n        <EVAL exec="ZVBEZJ= ((JVBEZ.add (VBS).add (VKAPA)).divide (ZAHL100)).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n        <EVAL exec="KENNVMT = 2"/>\r\n        <EXECUTE method="MRE4SONST"/>\r\n        <EXECUTE method="MLSTJAHR"/>\r\n        <EVAL exec="LST3= ST.multiply (ZAHL100)"/>\r\n        <EXECUTE method="MRE4ABZ"/>\r\n        <EVAL exec="ZRE4VP = ZRE4VP.subtract(JRE4ENT.divide(ZAHL100)).subtract(SONSTENT.divide(ZAHL100))"/>\r\n        <EVAL exec="KENNVMT= 1"/>\r\n        <EXECUTE method="MLSTJAHR"/>\r\n        <EVAL exec="LST2= ST.multiply (ZAHL100)"/>\r\n        <EVAL exec="STV= LST2.subtract (LST1)"/> \r\n        <EVAL exec="LST3= LST3.subtract (LST1)"/>\r\n        <IF expr="LST3.compareTo (STV) == -1">\r\n          <THEN>\r\n            <EVAL exec="STV= LST3"/>\r\n          </THEN>\r\n        </IF>\r\n        <IF expr="STV.compareTo (BigDecimal.ZERO) == -1">\r\n          <THEN>\r\n            <EVAL exec="STV= BigDecimal.ZERO"/>\r\n          </THEN>\r\n        \t<ELSE>\r\n\t        \t\x3c!--\t\r\n\t        \t\tlt. PAP muss hier auf ganze EUR abgerundet werden.\r\n   \t        \tAllerdings muss auch hier der Wert in Cent vorgehalten werden,\r\n        \t\t\tweshalb nach dem Aufrunden auf ganze EUR durch \'divide(ZAHL100, 0, BigDecimal.ROUND_DOWN)\'\r\n        \t\t\twieder die Multiplikation mit 100 erfolgt.\r\n        \t\t--\x3e\r\n\t        \t<EVAL exec="STV = STV.multiply(BigDecimal.valueOf(f)).divide(ZAHL100, 0, BigDecimal.ROUND_DOWN).multiply(ZAHL100)"/>\r\n        \t</ELSE>\r\n        </IF>\r\n        \x3c!-- Beginn Neu 2021 --\x3e\r\n        <EVAL exec="SOLZVBMG=STV.divide(ZAHL100, 0, BigDecimal.ROUND_DOWN).add(JBMG)"/>\r\n        <IF expr="SOLZVBMG.compareTo(SOLZFREI) == 1"> \x3c!-- SOLZVBMG > SOLZFREI --\x3e\r\n          <THEN>\r\n            <EVAL exec="SOLZV= STV.multiply(BigDecimal.valueOf(5.5)).divide(ZAHL100, 0, BigDecimal.ROUND_DOWN)"/>\r\n          </THEN>\r\n          <ELSE>\r\n            <EVAL exec="SOLZV= BigDecimal.ZERO"/>\r\n          </ELSE>\r\n        </IF>\r\n        \x3c!-- Ende Neu 2021 --\x3e\r\n        <IF expr="R &gt; 0">\r\n          <THEN>\r\n            <EVAL exec="BKV= STV"/>\r\n          </THEN>\r\n          <ELSE>\r\n            <EVAL exec="BKV= BigDecimal.ZERO"/>\r\n          </ELSE>\r\n        </IF>\r\n      </THEN>\r\n      <ELSE> \r\n        <EVAL exec="STV= BigDecimal.ZERO"/>\r\n        <EVAL exec="SOLZV= BigDecimal.ZERO"/>\r\n        <EVAL exec="BKV= BigDecimal.ZERO"/>\r\n      </ELSE>\r\n    </IF>\r\n  </METHOD>\r\n\r\n  \x3c!-- Sonderberechnung ohne sonstige Bezüge für Berechnung bei sonstigen Bezügen oder Vergütung für mehrjährige Tätigkeit, PAP Seite 36 --\x3e\r\n  <METHOD name="MOSONST">\r\n    <EVAL exec="ZRE4J= (JRE4.divide (ZAHL100)).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n    <EVAL exec="ZVBEZJ= (JVBEZ.divide (ZAHL100)).setScale (2, BigDecimal.ROUND_DOWN)"/>\r\n    <EVAL exec="JLFREIB= JFREIB.divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n    <EVAL exec="JLHINZU= JHINZU.divide (ZAHL100, 2, BigDecimal.ROUND_DOWN)"/>\r\n    <EXECUTE method="MRE4"/>\r\n    <EXECUTE method="MRE4ABZ"/>\r\n    <EVAL exec="ZRE4VP = ZRE4VP.subtract(JRE4ENT.divide(ZAHL100))"/>\r\n    <EXECUTE method="MZTABFB"/> \r\n    <EVAL exec="VFRBS1 = ((ANP.add(FVB.add(FVBZ))).multiply(ZAHL100)).setScale(2,BigDecimal.ROUND_DOWN)"/>\r\n    <EXECUTE method="MLSTJAHR"/>\r\n    \r\n     <EVAL exec="WVFRBO = ((ZVE.subtract(GFB)).multiply(ZAHL100)).setScale(2, BigDecimal.ROUND_DOWN)"/>\r\n     <IF expr="WVFRBO.compareTo(BigDecimal.ZERO) == -1 ">\r\n\t     <THEN>\r\n\t            <EVAL exec="WVFRBO = BigDecimal.ZERO"/>\r\n\t     </THEN>\r\n     </IF>\r\n    \r\n    <EVAL exec="LSTOSO= ST.multiply (ZAHL100)"/>\r\n  </METHOD>\r\n\r\n  \x3c!-- Sonderberechnung mit sonstige Bezüge für Berechnung bei sonstigen Bezügen oder Vergütung für mehrjährige Tätigkeit, PAP Seite 37 --\x3e\r\n  <METHOD name="MRE4SONST">\r\n    <EXECUTE method="MRE4"/>\r\n    <EVAL exec="FVB= FVBSO"/>\r\n    <EXECUTE method="MRE4ABZ"/>\r\n    <EVAL exec="ZRE4VP = ZRE4VP.subtract(JRE4ENT.divide(ZAHL100)).subtract(SONSTENT.divide(ZAHL100))"/>\r\n    <EVAL exec="FVBZ= FVBZSO"/>\r\n    <EXECUTE method="MZTABFB"/> \r\n    <EVAL exec="VFRBS2 = ((((ANP.add(FVB).add(FVBZ))).multiply(ZAHL100))).subtract(VFRBS1)"/>\r\n  </METHOD>\r\n  \r\n  \x3c!-- Komplett Neu 2020 --\x3e\r\n     \x3c!-- Tarifliche Einkommensteuer §32a EStG, PAP Seite 38 --\x3e\r\n  <METHOD name="UPTAB21"> \x3c!-- Änderung für 2021 --\x3e\r\n    <IF expr="X.compareTo(GFB.add(ZAHL1)) == -1"> \r\n      <THEN>\r\n        <EVAL exec="ST= BigDecimal.ZERO"/>\r\n      </THEN>\r\n      <ELSE>\r\n        <IF expr="X.compareTo (BigDecimal.valueOf (14754)) == -1">\x3c!-- Geändert für 2021 --\x3e\r\n          <THEN>\r\n            <EVAL exec="Y = (X.subtract(GFB)).divide(ZAHL10000, 6,BigDecimal.ROUND_DOWN)"/> \r\n            <EVAL exec="RW= Y.multiply (BigDecimal.valueOf (995.21))"/> \x3c!-- Geändert für 2021 --\x3e\r\n            <EVAL exec="RW= RW.add (BigDecimal.valueOf (1400))"/>\r\n            <EVAL exec="ST= (RW.multiply (Y)).setScale (0, BigDecimal.ROUND_DOWN)"/>\r\n          </THEN>\r\n          <ELSE>\r\n            <IF expr="X.compareTo (BigDecimal.valueOf (57919)) == -1">\x3c!-- Geändert für 2021 --\x3e\r\n              <THEN>\r\n                <EVAL exec="Y= (X.subtract (BigDecimal.valueOf (14753))).divide (ZAHL10000, 6, BigDecimal.ROUND_DOWN)"/> \x3c!-- Geändert für 2021  --\x3e\r\n                <EVAL exec="RW= Y.multiply (BigDecimal.valueOf (208.85))"/>\x3c!-- Geändert für 2021 --\x3e\r\n                <EVAL exec="RW= RW.add (BigDecimal.valueOf (2397))"/>\r\n                <EVAL exec="RW= RW.multiply (Y)"/>\r\n                <EVAL exec="ST= (RW.add (BigDecimal.valueOf (950.96))).setScale (0, BigDecimal.ROUND_DOWN)"/> \x3c!-- Geändert für 2021 --\x3e\r\n              </THEN>\r\n              <ELSE>\r\n\t            <IF expr="X.compareTo (BigDecimal.valueOf (274613)) == -1">\x3c!-- Geändert für 2021 --\x3e\r\n\t              <THEN>\r\n                    <EVAL exec="ST= ((X.multiply (BigDecimal.valueOf (0.42))).subtract (BigDecimal.valueOf (9136.63))).setScale (0, BigDecimal.ROUND_DOWN)"/> \x3c!-- Geändert für 2021 --\x3e\r\n                  </THEN>\r\n                  <ELSE>\r\n                    <EVAL exec="ST= ((X.multiply (BigDecimal.valueOf (0.45))).subtract (BigDecimal.valueOf (17374.99))).setScale (0, BigDecimal.ROUND_DOWN)"/> \x3c!-- Geändert für 2021 --\x3e\r\n                  </ELSE>\r\n                </IF>\r\n              </ELSE>\r\n            </IF>\r\n          </ELSE>\r\n        </IF>\r\n      </ELSE>\r\n    </IF>\r\n    <EVAL exec="ST= ST.multiply (BigDecimal.valueOf (KZTAB))"/>\r\n  </METHOD>\r\n  \r\n</METHODS>\r\n</PAP>'),this.dom=$e("div",{},this.errEl,this.form)}onPAPChanged(e){let t=e.target.files;if(0===t.length)return;let n=new FileReader;n.onload=e=>{try{this.loadPAP(e.target.result)}catch(e){throw this.err(e),e}},n.readAsBinaryString(t[0])}loadPAP(e){this.err("");try{let t=new Ce(function(e){let t=(new f.a).parseFromString(e).documentElement;if("PAP"!==t.tagName)throw new Error(`No PAP XML provided (PAP document element expected but found ${t.tagName})`);let n=ge(t),r=ce(t,Ee);return Object.assign(n,r)}(e)),n={pap:t,defaults:t.defaults(),inputs:t.inputs(),outputs:t.outputs()};this.state=n}catch(e){throw this.err(e.toString()),e}return this.papNameEl.value=this.state.pap.name,this.populateFields("input"),this.applyDefaults(),this.populateFields("output"),this.loadInputState(),this.state.pap}err(e){this.errEl.className=this.errCssClass+(e?" active":""),this.errEl.innerHTML=e}reset(){this.err(""),this.traceEl.innerHTML="",this.clearInputState()}showPseudoCode(){let e=this.state.pap.name,t=window.open("",e,"width=600,height=400"),n=t.document.documentElement;return n.innerHTML="",n.appendChild($e("head",{},Xe("title","Pseudocode "+e))),n.appendChild($e("body",{},Xe("pre",this.state.pap.expr.toString()))),t.focus(),!1}calculate(){this.err(""),this.traceEl.innerHTML="",this.saveInputState();let e=!1;try{let t=this.state.pap.evaluate(this.state.inputs.createValues(this.inputValues()));for(let e of this.state.outputs.vars)this.form.elements[e.name].value=""+t[e.name];e=!0,this.populateTrace(this.state.pap.trace,0)}catch(t){throw this.err(t.toString()),e||this.populateTrace(this.state.pap.trace,0),t}}populateTrace(e,t){for(let n of e){let e=t;We[n.type]&&(this.traceEl.appendChild(Ke(n,t)),e++),this.populateTrace(n.evaluatedChildren,e)}}populateFields(e){let t=this[e+"ContainerEl"];t.innerHTML="";for(let n of this.state[e+"s"].vars)t.appendChild(Ge(n,e))}applyDefaults(){for(let e of this.state.inputs.vars){let t=this.state.defaults[e.name],n=null==t?"":""+t;this.form.elements[e.name].value=n}}saveInputState(){if("undefined"!=typeof Storage)for(let e of this.state.inputs.vars)localStorage.setItem(e.name,this.form.elements[e.name].value);else console.log("WARN: localStorage is unsupported")}loadInputState(){if("undefined"!=typeof Storage)for(let e of this.state.inputs.vars){let t=localStorage.getItem(e.name);null!==t&&""!==t&&(this.form.elements[e.name].value=t)}else console.log("WARN: localStorage is unsupported")}clearInputState(){"undefined"!=typeof Storage?localStorage.clear():console.log("WARN: localStorage is unsupported"),this.applyDefaults()}inputValues(){let e={};for(let t of this.state.inputs.vars)e[t.name]=this.form.elements[t.name].value;return e}}).dom)})()})();
//# sourceMappingURL=index_bundle.js.map